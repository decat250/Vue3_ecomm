{"remainingRequest":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js!/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Vue3_ecomm/src/views/qa.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/decat/Vue3_ecomm/src/views/qa.vue","mtime":1648310835230},{"path":"/Users/decat/Vue3_ecomm/babel.config.js","mtime":1645696101737},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js","mtime":1645696104065},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js","mtime":1645696107319}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAkIGZyb20gImpxdWVyeSI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcmVmIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgdXNlUm91dGUgfSBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICByZXR1cm4gewogICAgICB2YWx1ZTogcmVmKG51bGwpCiAgICB9OwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3RfaW1nbGlzdDogW10sCiAgICAgIHByb2R1Y3RfbmFtZTogIiIsCiAgICAgIHByb2R1Y3RfcHJpY2U6ICIiLAogICAgICBwcm9kdWN0X2NvdW50OiAiIiwKICAgICAgcHJvZHVjdF9pbWc6ICIiLAogICAgICBwcm9kdWN0X2Rlc2NyaWJlOiAiIiwKICAgICAgbnVtOiBbXSwKICAgICAgb3B0OiBbXSwKICAgICAgc2VsbnVtOiByZWYobnVsbCksCiAgICAgIC8v5L2/55So6ICF6YG45pOH5pW46YePCiAgICAgIHNlbG9wdDogcmVmKG51bGwpIC8vIOS9v+eUqOiAhemBuOaTh+imj+WJhwoKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgcm91dGUgPSB1c2VSb3V0ZSgpOwogICAgZmV0Y2goImh0dHA6Ly8xMjcuMC4wLjEvYXBpL2dldHByb2R1Y3RpbmZvLyIgKyByb3V0ZS5wYXJhbXMuaWQsIHsKICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgaGVhZGVyczogewogICAgICAgIEFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gZGF0YS5qc29uKCk7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXQpIHsKICAgICAgX3RoaXMucHJvZHVjdF9pZCA9IHJldC5wcm9kdWN0ZGF0YS5wcm9kdWN0X2lkOwogICAgICBfdGhpcy5wcm9kdWN0X25hbWUgPSByZXQucHJvZHVjdGRhdGEucHJvZHVjdF9uYW1lOwogICAgICBfdGhpcy5wcm9kdWN0X3ByaWNlID0gcmV0LnByb2R1Y3RkYXRhLnByb2R1Y3RfcHJpY2U7CiAgICAgIF90aGlzLnByb2R1Y3RfaW1nID0gcmV0LnByb2R1Y3RkYXRhLnByb2R1Y3RfaW1nWzBdLnNyYzsKICAgICAgX3RoaXMucHJvZHVjdF9kZXNjcmliZSA9IHJldC5wcm9kdWN0ZGF0YS5wcm9kdWN0X2Rlc2NyaWJlOwogICAgICBfdGhpcy5vcHQgPSByZXQucHJvZHVjdGRhdGEub3B0OwogICAgICBfdGhpcy5wcm9kdWN0X2ltZ2xpc3QgPSByZXQucHJvZHVjdGRhdGEucHJvZHVjdF9pbWc7CiAgICB9KTsKICAgIGNvbnNvbGUubG9nKCQoImltZyIpKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZW9wdDogZnVuY3Rpb24gdXBkYXRlb3B0KHYpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnNlbG9wdCA9IHY7CiAgICAgIGNvbnNvbGUubG9nKHYpOwogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3QvYXBpL2dldHByb2R1Y3RwcmljZS8iICsgdiwge30pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5TdGF0dXMgPT0gIlN1Y2Nlc3MiKSB7CiAgICAgICAgICBfdGhpczIuc2VsbnVtID0gbnVsbDsKICAgICAgICAgIF90aGlzMi5udW0gPSByZXMuZGF0YS5wcm9kdWN0ZGF0YS5vcHQ7CiAgICAgICAgICBfdGhpczIucHJvZHVjdF9wcmljZSA9IHJlcy5kYXRhLnByaWNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYnV5aXRlbTogZnVuY3Rpb24gYnV5aXRlbSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgaXNMb2dpbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhY2NvdW50Iik7CgogICAgICBpZiAoaXNMb2dpbiA9PSBudWxsKSB7CiAgICAgICAgd2luZG93LiRtZXNzYWdlLmVycm9yKCLmgqjlsJrmnKrnmbvlhaUiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoInByb2R1Y3RfaWQiLCB0aGlzLnByb2R1Y3RfaWQpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoInNlbG9wdCIsIHRoaXMuc2Vsb3B0KTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJwcm9kdWN0X2NvdW50IiwgdGhpcy5zZWxudW0pOwogICAgICBmb3JtRGF0YS5hcHBlbmQoInVzZXJpZCIsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJpZCIpKTsKICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdC9hcGkvYWRkdG9jYXJ0IiwgZm9ybURhdGEsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuU3RhdHVzID09ICJTdWNjZXNzIikgewogICAgICAgICAgd2luZG93LiRtZXNzYWdlLnN1Y2Nlc3MocmVzLmRhdGEuTWVzc2FnZSk7CgogICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIHBhdGg6ICIvU2hvcGNhcnQiCiAgICAgICAgICB9KTsgLy8kKCIjZXhhbXBsZSIpLkRhdGFUYWJsZSgpLmFqYXgucmVsb2FkKCk7CgogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2xpY2tpbmc6IGZ1bmN0aW9uIGNsaWNraW5nKCRldmVudCkgewogICAgICAvL+WVhuWTgeWclueJh+WIl+ihqOm7nuaTigogICAgICB0aGlzLnByb2R1Y3RfaW1nID0gJGV2ZW50LmN1cnJlbnRUYXJnZXQuc3JjOwogICAgfSwKICAgIGFkZHRvY2FyZDogZnVuY3Rpb24gYWRkdG9jYXJkKCkgewogICAgICB2YXIgaXNMb2dpbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhY2NvdW50Iik7CgogICAgICBpZiAoaXNMb2dpbiA9PSBudWxsKSB7CiAgICAgICAgd2luZG93LiRtZXNzYWdlLmVycm9yKCLmgqjlsJrmnKrnmbvlhaUiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoInByb2R1Y3RfaWQiLCB0aGlzLnByb2R1Y3RfaWQpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoInNlbG9wdCIsIHRoaXMuc2Vsb3B0KTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJwcm9kdWN0X2NvdW50IiwgdGhpcy5zZWxudW0pOwogICAgICBmb3JtRGF0YS5hcHBlbmQoInVzZXJpZCIsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJpZCIpKTsKICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdC9hcGkvYWRkdG9jYXJ0IiwgZm9ybURhdGEsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuU3RhdHVzID09ICJTdWNjZXNzIikgewogICAgICAgICAgd2luZG93LiRtZXNzYWdlLnN1Y2Nlc3MocmVzLmRhdGEuTWVzc2FnZSk7IC8vJCgiI2V4YW1wbGUiKS5EYXRhVGFibGUoKS5hamF4LnJlbG9hZCgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9KTs="},{"version":3,"mappings":"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","names":["$","defineComponent","ref","useRoute","axios","setup","value","data","product_imglist","product_name","product_price","product_count","product_img","product_describe","num","opt","selnum","selopt","mounted","route","fetch","params","id","method","headers","Accept","then","json","ret","product_id","productdata","src","console","log","methods","updateopt","v","get","res","Status","price","buyitem","isLogin","localStorage","getItem","window","$message","error","formData","FormData","append","post","success","Message","$router","push","path","clicking","$event","currentTarget","addtocard"],"sourceRoot":"","sources":["/Users/decat/Vue3_ecomm/src/views/qa.vue"],"sourcesContent":["<template>\n  <div class=\"container\">123</div>\n</template>\n<style>\n.testimonial-group > .row {\n  display: block;\n  overflow-x: auto;\n  white-space: nowrap;\n}\n.testimonial-group > .row > .col-4 {\n  display: inline-block;\n}\n\n.vertical-center {\n  min-height: 100%; /* Fallback for browsers do NOT support vh unit */\n\n  display: flex;\n  align-items: center;\n}\n</style>\n<script>\nimport $ from \"jquery\";\n\nimport { defineComponent, ref } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport axios from \"axios\";\nexport default defineComponent({\n  setup() {\n    return {\n      value: ref(null),\n    };\n  },\n  data() {\n    return {\n      product_imglist: [],\n      product_name: \"\",\n      product_price: \"\",\n      product_count: \"\",\n      product_img: \"\",\n      product_describe: \"\",\n      num: [],\n      opt: [],\n      selnum: ref(null), //使用者選擇數量\n      selopt: ref(null), // 使用者選擇規則\n    };\n  },\n  mounted() {\n    const route = useRoute();\n    fetch(\"http://127.0.0.1/api/getproductinfo/\" + route.params.id, {\n      method: \"get\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((data) => {\n        return data.json();\n      })\n      .then((ret) => {\n        this.product_id = ret.productdata.product_id;\n        this.product_name = ret.productdata.product_name;\n        this.product_price = ret.productdata.product_price;\n        this.product_img = ret.productdata.product_img[0].src;\n        this.product_describe = ret.productdata.product_describe;\n        this.opt = ret.productdata.opt;\n        this.product_imglist = ret.productdata.product_img;\n      });\n    console.log($(\"img\"));\n  },\n  methods: {\n    updateopt(v) {\n      this.selopt = v;\n      console.log(v);\n      axios.get(\"http://localhost/api/getproductprice/\" + v, {}).then((res) => {\n        if (res.data.Status == \"Success\") {\n          this.selnum = null;\n          this.num = res.data.productdata.opt;\n          this.product_price = res.data.price;\n        }\n      });\n    },\n    buyitem() {\n      const isLogin = localStorage.getItem(\"account\");\n\n      if (isLogin == null) {\n        window.$message.error(\"您尚未登入\");\n        return;\n      }\n      const formData = new FormData();\n      formData.append(\"product_id\", this.product_id);\n      formData.append(\"selopt\", this.selopt);\n      formData.append(\"product_count\", this.selnum);\n      formData.append(\"userid\", localStorage.getItem(\"id\"));\n\n      axios.post(\"http://localhost/api/addtocart\", formData, {}).then((res) => {\n        if (res.data.Status == \"Success\") {\n          window.$message.success(res.data.Message);\n          this.$router.push({ path: \"/Shopcart\" });\n          //$(\"#example\").DataTable().ajax.reload();\n        }\n      });\n    },\n    clicking($event) {\n      //商品圖片列表點擊\n      this.product_img = $event.currentTarget.src;\n    },\n    addtocard() {\n      const isLogin = localStorage.getItem(\"account\");\n      if (isLogin == null) {\n        window.$message.error(\"您尚未登入\");\n        return;\n      }\n      const formData = new FormData();\n      formData.append(\"product_id\", this.product_id);\n      formData.append(\"selopt\", this.selopt);\n      formData.append(\"product_count\", this.selnum);\n      formData.append(\"userid\", localStorage.getItem(\"id\"));\n\n      axios.post(\"http://localhost/api/addtocart\", formData, {}).then((res) => {\n        if (res.data.Status == \"Success\") {\n          window.$message.success(res.data.Message);\n          //$(\"#example\").DataTable().ajax.reload();\n        }\n      });\n    },\n  },\n});\n</script>\n"]}]}