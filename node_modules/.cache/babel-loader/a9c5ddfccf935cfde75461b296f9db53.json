{"remainingRequest":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Vue3_ecomm/src/views/Test.vue?vue&type=template&id=5b2d5ecc","dependencies":[{"path":"/Users/decat/Vue3_ecomm/src/views/Test.vue","mtime":1645696107572},{"path":"/Users/decat/Vue3_ecomm/babel.config.js","mtime":1645696101737},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js","mtime":1645696104065},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1645696107320},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js","mtime":1645696107319}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sgfSBmcm9tICJ2dWUiOwoKdmFyIF9ob2lzdGVkXzEgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiIFVwbG9hZCBGaWxlICIpOwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiU2VsZWN0IEZpbGUiKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfbl9idXR0b24gPSBfcmVzb2x2ZUNvbXBvbmVudCgibi1idXR0b24iKTsKCiAgdmFyIF9jb21wb25lbnRfbl91cGxvYWQgPSBfcmVzb2x2ZUNvbXBvbmVudCgibi11cGxvYWQiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9uX2J1dHRvbiwgewogICAgZGlzYWJsZWQ6ICFfY3R4LmZpbGVMaXN0TGVuZ3RoLAogICAgb25DbGljazogX2N0eC5oYW5kbGVDbGljaywKICAgIHN0eWxlOiB7CiAgICAgICJtYXJnaW4tYm90dG9tIjogIjEycHgiCiAgICB9CiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19ob2lzdGVkXzFdOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSwgOAogIC8qIFBST1BTICovCiAgLCBbImRpc2FibGVkIiwgIm9uQ2xpY2siXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X25fdXBsb2FkLCB7CiAgICBvbkNoYW5nZTogX2N0eC5oYW5kbGVDaGFuZ2UsCiAgICBhY3Rpb246ICJodHRwczovL3d3dy5tb2NreS5pby92Mi81ZTRiYWZjNjMxMDAwMDcxMDBkOGI3MGYiLAogICAgImRlZmF1bHQtdXBsb2FkIjogZmFsc2UsCiAgICBtdWx0aXBsZTogIiIsCiAgICByZWY6ICJ1cGxvYWQiCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X25fYnV0dG9uLCBudWxsLCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfaG9pc3RlZF8yXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgICAgLyogU1RBQkxFICovCgogICAgICB9KV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9LCA4CiAgLyogUFJPUFMgKi8KICAsIFsib25DaGFuZ2UiXSldLCA2NAogIC8qIFNUQUJMRV9GUkFHTUVOVCAqLwogICk7Cn0="},{"version":3,"mappings":";;+CAKG;;+CAUW;;;;;;;6DAdZA,aAMWC,mBANX,EAMW;AALRC,YAAQ,GAAGC,mBAKH;AAJRC,WAAK,EAAED,gBAIC;AAHTE,SAA2B,EAA3B;AAAA;AAAA;AAGS,GANX;sBAIC;AAAA,aAED,YAFC;AAAA;;;;GAJD;;AAAA,8BAOAL,aAQWM,mBARX,EAQW;AAPRC,YAAM,EAAEJ,iBAOA;AANTK,UAAM,EAAC,kDAME;AALR,sBAAgB,KAKR;AAJTC,YAAQ,EAAR,EAIS;AAHTC,OAAG,EAAC;AAGK,GARX;sBAOE;AAAA,aAAgC,CAAhCV,aAAgCC,mBAAhC,EAAgC,IAAhC,EAAgC;0BAAtB;AAAA,iBAAW,YAAX;AAAA,UAAsB;;;;AAAA,OAAhC,CAAgC,CAAhC;AAAA;;;;GAPF;;AAAA","names":["_createVNode","_component_n_button","disabled","_ctx","onClick","style","_component_n_upload","onChange","action","multiple","ref"],"sourceRoot":"","sources":["/Users/decat/Vue3_ecomm/src/views/Test.vue"],"sourcesContent":["<template>\n  <n-button\n    :disabled=\"!fileListLength\"\n    @click=\"handleClick\"\n    style=\"margin-bottom: 12px\"\n  >\n    Upload File\n  </n-button>\n  <n-upload\n    @change=\"handleChange\"\n    action=\"https://www.mocky.io/v2/5e4bafc63100007100d8b70f\"\n    :default-upload=\"false\"\n    multiple\n    ref=\"upload\"\n  >\n    <n-button>Select File</n-button>\n  </n-upload>\n</template>\n\n<script>\nimport { defineComponent, ref } from \"vue\";\nimport axios from 'axios'\n\nexport default defineComponent({\n  setup() {\n    const fileListLengthRef = ref(0);\n    const uploadRef = ref(null);\n\n    return {\n      upload: uploadRef,\n      fileListLength: fileListLengthRef,\n      handleChange({ fileList }) {\n        fileListLengthRef.value = fileList.length;\n      },\n      handleClick(param) {\n        let fileObj = param.file;\n        let form = new FormData();\n        form.append(\"fileToUpload\", fileObj);\n        console.log(form); // output is: FormData {}; 需要使用 .get() 来读取\n        console.log(form.get(\"fileToUpload\")); // output is exactly the fileObj\n\n        axios.post(\"http://127.0.0.1/api/uploadFile\", form, {\n          headers: { \"content-type\": \"multipart/form-data\" },\n        });\n      },\n    };\n  },\n});\n</script>"]}]}