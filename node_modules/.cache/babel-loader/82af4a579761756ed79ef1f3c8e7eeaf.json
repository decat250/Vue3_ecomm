{"remainingRequest":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js!/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Vue3_ecomm/src/views/order.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/decat/Vue3_ecomm/src/views/order.vue","mtime":1648791959802},{"path":"/Users/decat/Vue3_ecomm/babel.config.js","mtime":1645696101737},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js","mtime":1645696104065},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js","mtime":1645696107319}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgVnVlR29vZFRhYmxlIH0gZnJvbSAidnVlLWdvb2QtdGFibGUtbmV4dCI7CmltcG9ydCAidnVlLWdvb2QtdGFibGUtbmV4dC9kaXN0L3Z1ZS1nb29kLXRhYmxlLW5leHQuY3NzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0ICQgZnJvbSAianF1ZXJ5IjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWYgfSBmcm9tICJ2dWUiOwppbXBvcnQgImJvb3RzdHJhcC9kaXN0L2Nzcy9ib290c3RyYXAubWluLmNzcyI7CmltcG9ydCAianF1ZXJ5L2Rpc3QvanF1ZXJ5Lm1pbi5qcyI7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgVnVlR29vZFRhYmxlOiBWdWVHb29kVGFibGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93TW9kYWw6IHJlZihmYWxzZSksCiAgICAgIGNvbHVtbnM6IFt7CiAgICAgICAgbGFiZWw6ICLoqILllq7ml6XmnJ8iLAogICAgICAgIGZpZWxkOiAib3JkZXJfdGltZSIsCiAgICAgICAgZGF0ZUlucHV0Rm9ybWF0OiAneXl5eS1NTS1kZFwnVFwnSEg6bW06c3MuU1NTU1NTWFhYJywKICAgICAgICBkYXRlT3V0cHV0Rm9ybWF0OiAneXl5eScsCiAgICAgICAgZ2xvYmFsU2VhcmNoRGlzYWJsZWQ6IHRydWUKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAi6KiC6LO85Lq65aeT5ZCNIiwKICAgICAgICBmaWVsZDogInVzZXJfbmFtZSIsCiAgICAgICAgdGRDbGFzczogInRleHQtY2VudGVyIiwKICAgICAgICBnbG9iYWxTZWFyY2hEaXNhYmxlZDogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICLnuL3ph5HpoY0iLAogICAgICAgIGZpZWxkOiAib3JkZXJfdG90YWwiLAogICAgICAgIHR5cGU6ICJudW1iZXIiLAogICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsCiAgICAgICAgZ2xvYmFsU2VhcmNoRGlzYWJsZWQ6IHRydWUKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAi6KiC5Zau54uA5oWLIiwKICAgICAgICBmaWVsZDogInN0YXR1cyIsCiAgICAgICAgdGRDbGFzczogInRleHQtY2VudGVyIiwKICAgICAgICBnbG9iYWxTZWFyY2hEaXNhYmxlZDogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICLlh7rosqjni4DmhYsiLAogICAgICAgIGZpZWxkOiAibG9naXN0aWNzX3N0YXRlIiwKICAgICAgICB0ZENsYXNzOiAidGV4dC1jZW50ZXIiLAogICAgICAgIGdsb2JhbFNlYXJjaERpc2FibGVkOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogIuips+e0sOizh+ioiiIsCiAgICAgICAgZmllbGQ6ICJlZGl0IiwKICAgICAgICB0ZENsYXNzOiAidGV4dC1jZW50ZXIiLAogICAgICAgIGdsb2JhbFNlYXJjaERpc2FibGVkOiB0cnVlCiAgICAgIH1dLAogICAgICByb3dzOiBbXQogICAgfTsKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdC9hcGkvZ2V0b3JkZXIvIiArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJpZCIpLCB7fSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzLnJvd3MgPSByZXMuZGF0YS5kYXRhOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICByZWRpcmVjdDogZnVuY3Rpb24gcmVkaXJlY3QoaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvb3JkZXJfaXRlbS8iICsgaWQKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKGlkKTsKICAgIH0sCiAgICBwYXk6IGZ1bmN0aW9uIHBheShpZCkgewogICAgICB2YXIgdXJsID0gImh0dHA6Ly9sb2NhbGhvc3QvYXBpL3Jlb3JkZXIiOwogICAgICB2YXIgZm9ybSA9ICQoJzxmb3JtIHN0eWxlPSJkaXNwbGF5Om5vbmUiIGFjdGlvbj0iJyArIHVybCArICciIG1ldGhvZD0icG9zdCI+JyArICc8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ib3JkZXJfaWQiIHZhbHVlPSInICsgaWQgKyAnIiAvPicgKyAiPC9mb3JtPiIpOwogICAgICAkKCJib2R5IikuYXBwZW5kKGZvcm0pOwogICAgICBmb3JtLnN1Ym1pdCgpOwogICAgfQogIH0KfSk7"},{"version":3,"mappings":"AAmCA,SAASA,YAAT,QAA6B,qBAA7B;AACA,OAAO,kDAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,eAAT,EAA0BC,GAA1B,QAAqC,KAArC;AAEA,OAAO,sCAAP;AACA,OAAO,2BAAP;AACA,eAAeD,eAAe,CAAC;AAC7BE,YAAU,EAAE;AACVL,gBAAY,EAAZA;AADU,GADiB;AAI7BM,MAJ6B,kBAItB;AACL,WAAO;AACLC,eAAS,EAAEH,GAAG,CAAC,KAAD,CADT;AAELI,aAAO,EAAE,CACP;AACEC,aAAK,EAAE,MADT;AAEEC,aAAK,EAAE,YAFT;AAGEC,uBAAe,EAAE,mCAHnB;AAIEC,wBAAgB,EAAC,MAJnB;AAKEC,4BAAoB,EAAE;AALxB,OADO,EAQP;AACEJ,aAAK,EAAE,OADT;AAEEC,aAAK,EAAE,WAFT;AAGEI,eAAO,EAAE,aAHX;AAIED,4BAAoB,EAAE;AAJxB,OARO,EAcP;AACEJ,aAAK,EAAE,KADT;AAEEC,aAAK,EAAE,aAFT;AAGEK,YAAI,EAAE,QAHR;AAIED,eAAO,EAAE,aAJX;AAKED,4BAAoB,EAAE;AALxB,OAdO,EAqBP;AACEJ,aAAK,EAAE,MADT;AAEEC,aAAK,EAAE,QAFT;AAGEI,eAAO,EAAE,aAHX;AAIED,4BAAoB,EAAE;AAJxB,OArBO,EA2BP;AACEJ,aAAK,EAAE,MADT;AAEEC,aAAK,EAAE,iBAFT;AAGEI,eAAO,EAAE,aAHX;AAIED,4BAAoB,EAAE;AAJxB,OA3BO,EAiCP;AACEJ,aAAK,EAAE,MADT;AAEEC,aAAK,EAAE,MAFT;AAGEI,eAAO,EAAE,aAHX;AAIED,4BAAoB,EAAE;AAJxB,OAjCO,CAFJ;AA2CLG,UAAI,EAAE;AA3CD,KAAP;AA6CD,GAlD4B;AAmD7BC,OAnD6B,mBAmDrB,CAAE,CAnDmB;AAoD7BC,SApD6B,qBAoDnB;AAAA;;AACRjB,SAAI,CACDkB,GADH,CACO,mCAAmCC,YAAY,CAACC,OAAb,CAAqB,IAArB,CAD1C,EACsE,EADtE,EAEGC,IAFH,CAEQ,UAACC,GAAD,EAAS;AACb,WAAI,CAACP,IAAL,GAAYO,GAAG,CAACjB,IAAJ,CAASA,IAArB;AACD,KAJH;AAKD,GA1D4B;AA2D7BkB,SAAO,EAAE;AAEPC,YAFO,oBAEEC,EAFF,EAEM;AACX,WAAKC,OAAL,CAAaC,IAAb,CAAkB;AAAEC,YAAI,EAAE,iBAAeH;AAAvB,OAAlB;AACAI,aAAO,CAACC,GAAR,CAAYL,EAAZ;AACD,KALM;AAMPM,OANO,eAMHN,EANG,EAMC;AACN,UAAIO,GAAE,GAAI,8BAAV;AACA,UAAIC,IAAG,GAAIhC,CAAC,CACV,wCACE+B,GADF,GAEE,kBAFF,GAGE,4CAHF,GAIEP,EAJF,GAKE,MALF,GAME,SAPQ,CAAZ;AAUAxB,OAAC,CAAC,MAAD,CAAD,CAAUiC,MAAV,CAAiBD,IAAjB;AACAA,UAAI,CAACE,MAAL;AACD;AApBM;AA3DoB,CAAD,CAA9B","names":["VueGoodTable","axios","$","defineComponent","ref","components","data","showModal","columns","label","field","dateInputFormat","dateOutputFormat","globalSearchDisabled","tdClass","type","rows","setup","mounted","get","localStorage","getItem","then","res","methods","redirect","id","$router","push","path","console","log","pay","url","form","append","submit"],"sourceRoot":"","sources":["/Users/decat/Vue3_ecomm/src/views/order.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <vue-good-table\n      :search-options=\"{ enabled: true }\"\n      :columns=\"columns\"\n      :rows=\"rows\"\n      :paginate=\"true\"\n      :lineNumbers=\"true\"\n      :globalSearch=\"true\"\n    >\n      <template #table-row=\"props\">\n        \n        <span v-if=\"props.column.field == 'edit'\">\n          <n-button\n            type=\"primary\"\n            style=\"margin-right: 10px\"\n            v-if=\"props.row.status == '待付款'\"\n            v-on:click=\"pay(props.row.order_id)\"\n          >\n            付款\n          </n-button>\n\n          <n-button type=\"primary\" @click=\"redirect(props.row.order_id)\">\n            訂單資訊\n          </n-button>\n        </span>\n\n        <span v-else>\n          {{ props.formattedRow[props.column.field] }}\n        </span>\n      </template>\n    </vue-good-table>\n  </div>\n</template>\n<script>\nimport { VueGoodTable } from \"vue-good-table-next\";\nimport \"vue-good-table-next/dist/vue-good-table-next.css\";\nimport axios from \"axios\";\nimport $ from \"jquery\";\nimport { defineComponent, ref } from \"vue\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"jquery/dist/jquery.min.js\";\nexport default defineComponent({\n  components: {\n    VueGoodTable,\n  },\n  data() {\n    return {\n      showModal: ref(false),\n      columns: [\n        {\n          label: \"訂單日期\",\n          field: \"order_time\",\n          dateInputFormat: 'yyyy-MM-dd\\'T\\'HH:mm:ss.SSSSSSXXX',\n          dateOutputFormat:'yyyy',\n          globalSearchDisabled: true,\n        },\n        {\n          label: \"訂購人姓名\",\n          field: \"user_name\",\n          tdClass: \"text-center\",\n          globalSearchDisabled: true,\n        },\n        {\n          label: \"總金額\",\n          field: \"order_total\",\n          type: \"number\",\n          tdClass: \"text-center\",\n          globalSearchDisabled: true,\n        },\n        {\n          label: \"訂單狀態\",\n          field: \"status\",\n          tdClass: \"text-center\",\n          globalSearchDisabled: true,\n        },\n        {\n          label: \"出貨狀態\",\n          field: \"logistics_state\",\n          tdClass: \"text-center\",\n          globalSearchDisabled: true,\n        },\n        {\n          label: \"詳細資訊\",\n          field: \"edit\",\n          tdClass: \"text-center\",\n          globalSearchDisabled: true,\n        },\n        \n      ],\n      rows: [],\n    };\n  },\n  setup() {},\n  mounted() {\n    axios\n      .get(\"http://localhost/api/getorder/\" + localStorage.getItem(\"id\"), {})\n      .then((res) => {\n        this.rows = res.data.data;\n      });\n  },\n  methods: {\n    \n    redirect(id) {\n      this.$router.push({ path: \"/order_item/\"+id });\n      console.log(id);\n    },\n    pay(id) {\n      var url = \"http://localhost/api/reorder\";\n      var form = $(\n        '<form style=\"display:none\" action=\"' +\n          url +\n          '\" method=\"post\">' +\n          '<input type=\"text\" name=\"order_id\" value=\"' +\n          id +\n          '\" />' +\n          \"</form>\"\n      );\n\n      $(\"body\").append(form);\n      form.submit();\n    },\n  },\n});\n</script>"]}]}