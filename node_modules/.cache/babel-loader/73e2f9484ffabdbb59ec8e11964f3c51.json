{"remainingRequest":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js!/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Vue3_ecomm/src/views/ProductInfo.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/decat/Vue3_ecomm/src/views/ProductInfo.vue","mtime":1645794269980},{"path":"/Users/decat/Vue3_ecomm/babel.config.js","mtime":1645696101737},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js","mtime":1645696104065},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js","mtime":1645696107319}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcmVmIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgdXNlUm91dGUgfSBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICByZXR1cm4gewogICAgICB2YWx1ZTogcmVmKG51bGwpCiAgICB9OwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3RkYXRhOiB7CiAgICAgICAgcHJvZHVjdF9pbWdsaXN0OiBbXSwKICAgICAgICBwcm9kdWN0X25hbWU6ICIiLAogICAgICAgIHByb2R1Y3RfcHJpY2U6ICIzMCIsCiAgICAgICAgcHJvZHVjdF9jb3VudDogIiIsCiAgICAgICAgcHJvZHVjdF9pbWc6ICIiLAogICAgICAgIHByb2R1Y3RfZGVzY3JpYmU6ICIiLAogICAgICAgIG51bTogW10sCiAgICAgICAgb3B0OiBbXSwKICAgICAgICBzZWxudW06ICIiLAogICAgICAgIC8v5L2/55So6ICF6YG45pOH5pW46YePCiAgICAgICAgc2Vsb3B0OiAiIiAvLyDkvb/nlKjogIXpgbjmk4fopo/liYcKCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgcm91dGUgPSB1c2VSb3V0ZSgpOwogICAgZmV0Y2goImh0dHA6Ly8xMjcuMC4wLjEvYXBpL2dldHByb2R1Y3RpbmZvLyIgKyByb3V0ZS5wYXJhbXMuaWQsIHsKICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgaGVhZGVyczogewogICAgICAgIEFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gZGF0YS5qc29uKCk7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXQpIHsKICAgICAgX3RoaXMucHJvZHVjdF9pZCA9IHJldC5wcm9kdWN0ZGF0YS5wcm9kdWN0X2lkOwogICAgICBfdGhpcy5wcm9kdWN0ZGF0YS5wcm9kdWN0X25hbWUgPSByZXQucHJvZHVjdGRhdGEucHJvZHVjdF9uYW1lOwogICAgICBfdGhpcy5wcm9kdWN0ZGF0YS5wcm9kdWN0X3ByaWNlID0gcmV0LnByb2R1Y3RkYXRhLnByb2R1Y3RfcHJpY2U7CiAgICAgIF90aGlzLnByb2R1Y3RkYXRhLnByb2R1Y3RfaW1nID0gcmV0LnByb2R1Y3RkYXRhLnByb2R1Y3RfaW1nWzBdLnNyYzsKICAgICAgX3RoaXMucHJvZHVjdGRhdGEucHJvZHVjdF9kZXNjcmliZSA9IHJldC5wcm9kdWN0ZGF0YS5wcm9kdWN0X2Rlc2NyaWJlOwogICAgICBfdGhpcy5wcm9kdWN0ZGF0YS5vcHQgPSByZXQucHJvZHVjdGRhdGEub3B0OwogICAgICBfdGhpcy5wcm9kdWN0ZGF0YS5udW0gPSByZXQucHJvZHVjdGRhdGEubnVtOwogICAgICBfdGhpcy5wcm9kdWN0X2ltZ2xpc3QgPSByZXQucHJvZHVjdGRhdGEucHJvZHVjdF9pbWc7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGJ1eWl0ZW06IGZ1bmN0aW9uIGJ1eWl0ZW0oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgicHJvZHVjdF9pZCIsIHRoaXMucHJvZHVjdF9pZCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgic2Vsb3B0IiwgdGhpcy5zZWxvcHQpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoInByb2R1Y3RfY291bnQiLCB0aGlzLnNlbG51bSk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgidXNlcmlkIiwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImlkIikpOwogICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0L2FwaS9hZGR0b2NhcnQiLCBmb3JtRGF0YSwge30pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5TdGF0dXMgPT0gIlN1Y2Nlc3MiKSB7CiAgICAgICAgICB3aW5kb3cuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMuZGF0YS5NZXNzYWdlKTsKCiAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgcGF0aDogJy9TaG9wY2FydCcKICAgICAgICAgIH0pOyAvLyQoIiNleGFtcGxlIikuRGF0YVRhYmxlKCkuYWpheC5yZWxvYWQoKTsKCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjbGlja2luZzogZnVuY3Rpb24gY2xpY2tpbmcoJGV2ZW50KSB7CiAgICAgIC8v5ZWG5ZOB5ZyW54mH5YiX6KGo6bue5pOKCiAgICAgIHRoaXMucHJvZHVjdGRhdGEucHJvZHVjdF9pbWcgPSAkZXZlbnQuY3VycmVudFRhcmdldC5zcmM7CiAgICB9LAogICAgYWRkdG9jYXJkOiBmdW5jdGlvbiBhZGR0b2NhcmQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgicHJvZHVjdF9pZCIsIHRoaXMucHJvZHVjdF9pZCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgic2Vsb3B0IiwgdGhpcy5zZWxvcHQpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoInByb2R1Y3RfY291bnQiLCB0aGlzLnNlbG51bSk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgidXNlcmlkIiwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImlkIikpOwogICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0L2FwaS9hZGR0b2NhcnQiLCBmb3JtRGF0YSwge30pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5TdGF0dXMgPT0gIlN1Y2Nlc3MiKSB7CiAgICAgICAgICB3aW5kb3cuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMuZGF0YS5NZXNzYWdlKTsKCiAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgcGF0aDogJy9TaG9wY2FydCcKICAgICAgICAgIH0pOyAvLyQoIiNleGFtcGxlIikuRGF0YVRhYmxlKCkuYWpheC5yZWxvYWQoKTsKCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"mappings":";AA0GA,SAASA,eAAT,EAA0BC,GAA1B,QAAqC,KAArC;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,eAAeH,eAAe,CAAC;AAC7BI,OAD6B,mBACrB;AACN,WAAO;AACLC,WAAK,EAAEJ,GAAG,CAAC,IAAD;AADL,KAAP;AAGD,GAL4B;AAM7BK,MAN6B,kBAMtB;AACL,WAAO;AACLC,iBAAW,EAAE;AACXC,uBAAe,EAAE,EADN;AAEXC,oBAAY,EAAE,EAFH;AAGXC,qBAAa,EAAE,IAHJ;AAIXC,qBAAa,EAAE,EAJJ;AAKXC,mBAAW,EAAE,EALF;AAMXC,wBAAgB,EAAE,EANP;AAOXC,WAAG,EAAE,EAPM;AAQXC,WAAG,EAAE,EARM;AASXC,cAAM,EAAE,EATG;AASC;AACZC,cAAM,EAAE,EAVG,CAUC;;AAVD;AADR,KAAP;AAcD,GArB4B;AAsB7BC,SAtB6B,qBAsBnB;AAAA;;AACR,QAAMC,KAAI,GAAIjB,QAAQ,EAAtB;AACAkB,SAAK,CAAC,yCAAyCD,KAAK,CAACE,MAAN,CAAaC,EAAvD,EAA2D;AAC9DC,YAAM,EAAE,KADsD;AAE9DC,aAAO,EAAE;AACPC,cAAM,EAAE,kBADD;AAEP,wBAAgB;AAFT;AAFqD,KAA3D,CAAL,CAOGC,IAPH,CAOQ,UAACpB,IAAD,EAAU;AACd,aAAOA,IAAI,CAACqB,IAAL,EAAP;AACD,KATH,EAUGD,IAVH,CAUQ,UAACE,GAAD,EAAS;AACb,WAAI,CAACC,UAAL,GAAkBD,GAAG,CAACrB,WAAJ,CAAgBsB,UAAlC;AACA,WAAI,CAACtB,WAAL,CAAiBE,YAAjB,GAAgCmB,GAAG,CAACrB,WAAJ,CAAgBE,YAAhD;AACA,WAAI,CAACF,WAAL,CAAiBG,aAAjB,GAAiCkB,GAAG,CAACrB,WAAJ,CAAgBG,aAAjD;AACA,WAAI,CAACH,WAAL,CAAiBK,WAAjB,GAA+BgB,GAAG,CAACrB,WAAJ,CAAgBK,WAAhB,CAA4B,CAA5B,EAA+BkB,GAA9D;AACA,WAAI,CAACvB,WAAL,CAAiBM,gBAAjB,GAAoCe,GAAG,CAACrB,WAAJ,CAAgBM,gBAApD;AACA,WAAI,CAACN,WAAL,CAAiBQ,GAAjB,GAAuBa,GAAG,CAACrB,WAAJ,CAAgBQ,GAAvC;AACA,WAAI,CAACR,WAAL,CAAiBO,GAAjB,GAAuBc,GAAG,CAACrB,WAAJ,CAAgBO,GAAvC;AACA,WAAI,CAACN,eAAL,GAAuBoB,GAAG,CAACrB,WAAJ,CAAgBK,WAAvC;AACD,KAnBH;AAoBD,GA5C4B;AA6C7BmB,SAAO,EAAE;AACPC,WADO,qBACG;AAAA;;AACR,UAAMC,QAAO,GAAI,IAAIC,QAAJ,EAAjB;AACAD,cAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8B,KAAKN,UAAnC;AACAI,cAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0B,KAAKlB,MAA/B;AACAgB,cAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAiC,KAAKnB,MAAtC;AACAiB,cAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0BC,YAAY,CAACC,OAAb,CAAqB,IAArB,CAA1B;AAEAlC,WAAI,CACDmC,IADH,CACQ,gCADR,EAC0CL,QAD1C,EACoD,EADpD,EAEGP,IAFH,CAEQ,UAACa,GAAD,EAAS;AACb,YAAIA,GAAG,CAACjC,IAAJ,CAASkC,MAAT,IAAmB,SAAvB,EAAkC;AAEhCC,gBAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwBJ,GAAG,CAACjC,IAAJ,CAASsC,OAAjC;;AACA,gBAAI,CAACC,OAAL,CAAaC,IAAb,CAAkB;AAAEC,gBAAI,EAAE;AAAR,WAAlB,EAHgC,CAIhC;;AACF;AACD,OATH;AAWD,KAnBM;AAoBPC,YApBO,oBAoBEC,MApBF,EAoBU;AACf;AACA,WAAK1C,WAAL,CAAiBK,WAAjB,GAA+BqC,MAAM,CAACC,aAAP,CAAqBpB,GAApD;AACD,KAvBM;AAwBPqB,aAxBO,uBAwBK;AAAA;;AACV,UAAMlB,QAAO,GAAI,IAAIC,QAAJ,EAAjB;AACAD,cAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8B,KAAKN,UAAnC;AACAI,cAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0B,KAAKlB,MAA/B;AACAgB,cAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAiC,KAAKnB,MAAtC;AACAiB,cAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0BC,YAAY,CAACC,OAAb,CAAqB,IAArB,CAA1B;AAEAlC,WAAI,CACDmC,IADH,CACQ,gCADR,EAC0CL,QAD1C,EACoD,EADpD,EAEGP,IAFH,CAEQ,UAACa,GAAD,EAAS;AACb,YAAIA,GAAG,CAACjC,IAAJ,CAASkC,MAAT,IAAmB,SAAvB,EAAkC;AAEhCC,gBAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwBJ,GAAG,CAACjC,IAAJ,CAASsC,OAAjC;;AACA,gBAAI,CAACC,OAAL,CAAaC,IAAb,CAAkB;AAAEC,gBAAI,EAAE;AAAR,WAAlB,EAHgC,CAIhC;;AACF;AACD,OATH;AAUD;AAzCM;AA7CoB,CAAD,CAA9B","names":["defineComponent","ref","useRoute","axios","setup","value","data","productdata","product_imglist","product_name","product_price","product_count","product_img","product_describe","num","opt","selnum","selopt","mounted","route","fetch","params","id","method","headers","Accept","then","json","ret","product_id","src","methods","buyitem","formData","FormData","append","localStorage","getItem","post","res","Status","window","$message","success","Message","$router","push","path","clicking","$event","currentTarget","addtocard"],"sourceRoot":"","sources":["/Users/decat/Vue3_ecomm/src/views/ProductInfo.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-8 col-xl-6\">\n        <div class=\"imgwrapper\">\n          <img\n            style=\"max-width: 280px\"\n            class=\"img-responsive d-block mx-auto\"\n            v-bind:src=\"productdata.product_img\"\n          />\n        </div>\n\n        <div class=\"container testimonial-group\" style=\"margin-top: 10px\">\n          <div class=\"row text-center\">\n            <div\n              class=\"col-4\"\n              v-for=\"item in product_imglist\"\n              v-bind:key=\"item.id\"\n            >\n              <img\n                v-on:click=\"clicking($event)\"\n                ref=\"referenceMe\"\n                style=\"max-width: 100px\"\n                v-bind:src=\"item.src\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-4 col-xl-6 vertical-center\">\n        <n-card ti v-bind:title=\"productdata.product_name\">\n          <template #header-extra> </template>\n          規格\n          <n-select\n            v-model:value=\"selopt\"\n            placeholder=\"規格\"\n            :options=\"productdata.opt\"\n          />\n\n          數量\n          <n-select\n            v-model:value=\"selnum\"\n            placeholder=\"請選擇數量\"\n            :options=\"productdata.num\"\n          />\n          <span class=\"align-left\" style=\"color: red; font-size: 30px\"\n            >NT${{ productdata.product_price }}</span\n          >\n\n          <template #footer\n            ><div class=\"row\">\n              <div class=\"col-6\">\n                <n-button\n                  type=\"success\"\n                  block\n                  secondary\n                  strong\n                  v-on:click=\"addtocard\"\n                  >加入購物車\n                </n-button>\n              </div>\n              <div class=\"col-6\">\n                <n-button\n                  type=\"error\"\n                  block\n                  secondary\n                  strong\n                  v-on:click=\"buyitem\"\n                  >立即購買\n                </n-button>\n              </div>\n            </div></template\n          >\n        </n-card>\n      </div>\n    </div>\n  </div>\n  <n-card title=\"\" style=\"margin-bottom: 16px\">\n    <n-tabs default-value=\"oasis\" justify-content=\"space-evenly\" type=\"line\">\n      <n-tab-pane name=\"oasis\" tab=\"商品描述\">\n        <div class=\"container\">\n          <div class=\"row\" v-html=\"productdata.product_describe\"></div>\n        </div>\n      </n-tab-pane>\n      <n-tab-pane name=\"the beatles\" tab=\"配送說明\"> Hey Jude </n-tab-pane>\n    </n-tabs>\n  </n-card>\n</template>\n<style>\n.testimonial-group > .row {\n  display: block;\n  overflow-x: auto;\n  white-space: nowrap;\n}\n.testimonial-group > .row > .col-4 {\n  display: inline-block;\n}\n\n.vertical-center {\n  min-height: 100%; /* Fallback for browsers do NOT support vh unit */\n\n  display: flex;\n  align-items: center;\n}\n</style>\n<script>\nimport { defineComponent, ref } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport axios from 'axios'\nexport default defineComponent({\n  setup() {\n    return {\n      value: ref(null),\n    };\n  },\n  data() {\n    return {\n      productdata: {\n        product_imglist: [],\n        product_name: \"\",\n        product_price: \"30\",\n        product_count: \"\",\n        product_img: \"\",\n        product_describe: \"\",\n        num: [],\n        opt: [],\n        selnum: \"\", //使用者選擇數量\n        selopt: \"\", // 使用者選擇規則\n      },\n    };\n  },\n  mounted() {\n    const route = useRoute();\n    fetch(\"http://127.0.0.1/api/getproductinfo/\" + route.params.id, {\n      method: \"get\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((data) => {\n        return data.json();\n      })\n      .then((ret) => {\n        this.product_id = ret.productdata.product_id;\n        this.productdata.product_name = ret.productdata.product_name;\n        this.productdata.product_price = ret.productdata.product_price;\n        this.productdata.product_img = ret.productdata.product_img[0].src;\n        this.productdata.product_describe = ret.productdata.product_describe;\n        this.productdata.opt = ret.productdata.opt;\n        this.productdata.num = ret.productdata.num;\n        this.product_imglist = ret.productdata.product_img;\n      });\n  },\n  methods: {\n    buyitem() {\n      const formData = new FormData();\n      formData.append(\"product_id\", this.product_id);\n      formData.append(\"selopt\", this.selopt);\n      formData.append(\"product_count\", this.selnum);\n      formData.append(\"userid\", localStorage.getItem(\"id\"));\n\n      axios\n        .post(\"http://localhost/api/addtocart\", formData, {})\n        .then((res) => {\n          if (res.data.Status == \"Success\") {\n            \n            window.$message.success(res.data.Message);\n            this.$router.push({ path: '/Shopcart'})\n            //$(\"#example\").DataTable().ajax.reload();\n          }\n        });\n   \n    },\n    clicking($event) {\n      //商品圖片列表點擊\n      this.productdata.product_img = $event.currentTarget.src;\n    },\n    addtocard() {\n      const formData = new FormData();\n      formData.append(\"product_id\", this.product_id);\n      formData.append(\"selopt\", this.selopt);\n      formData.append(\"product_count\", this.selnum);\n      formData.append(\"userid\", localStorage.getItem(\"id\"));\n\n      axios\n        .post(\"http://localhost/api/addtocart\", formData, {})\n        .then((res) => {\n          if (res.data.Status == \"Success\") {\n            \n            window.$message.success(res.data.Message);\n            this.$router.push({ path: '/Shopcart'})\n            //$(\"#example\").DataTable().ajax.reload();\n          }\n        });\n    },\n  },\n});\n</script>\n"]}]}