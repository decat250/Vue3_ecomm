{"remainingRequest":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js!/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Vue3_ecomm/src/views/adm/product.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/decat/Vue3_ecomm/src/views/adm/product.vue","mtime":1645191022700},{"path":"/Users/decat/Vue3_ecomm/babel.config.js","mtime":1644997285751},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1644997287108},{"path":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js","mtime":1644997287031},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1644997287108},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js","mtime":1644997290172}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGgsIGRlZmluZUNvbXBvbmVudCwgcmVmIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgTkJ1dHRvbiwgdXNlTWVzc2FnZSB9IGZyb20gIm5haXZlLXVpIjsKaW1wb3J0IHsgVnVlRWRpdG9yIH0gZnJvbSAidnVlMy1lZGl0b3IiOwoKdmFyIGNyZWF0ZUNvbHVtbnMgPSBmdW5jdGlvbiBjcmVhdGVDb2x1bW5zKF9yZWYpIHsKICB2YXIgcGxheSA9IF9yZWYucGxheTsKICByZXR1cm4gW3sKICAgIHRpdGxlOiAi5Luj6JmfIiwKICAgIGtleTogInByb2R1Y3RfaWQiCiAgfSwgewogICAgdGl0bGU6ICLllYblk4HlkI3nqLEiLAogICAga2V5OiAicHJvZHVjdF9uYW1lIgogIH0sIHsKICAgIHRpdGxlOiAi5pW46YePIiwKICAgIGtleTogInByb2R1Y3RfY291bnQiCiAgfSwgewogICAgdGl0bGU6ICLlg7nmoLwiLAogICAga2V5OiAicHJvZHVjdF9wcmljZSIKICB9LCB7CiAgICB0aXRsZTogIuaTjeS9nCIsCiAgICBrZXk6ICJhY3Rpb25zIiwKICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHJvdykgewogICAgICByZXR1cm4gaChOQnV0dG9uLCB7CiAgICAgICAgc3Ryb25nOiB0cnVlLAogICAgICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgICAgICB0ZXJ0aWFyeTogdHJ1ZSwKICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICByZXR1cm4gcGxheShyb3cpOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgICAgcmV0dXJuICJQbGF5IjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH1dOwp9OwoKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBWdWVFZGl0b3I6IFZ1ZUVkaXRvcgogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIG1lc3NhZ2UgPSB1c2VNZXNzYWdlKCk7CiAgICByZXR1cm4gewogICAgICBzaG93TW9kYWw6IHJlZihmYWxzZSksCiAgICAgIGNvbHVtbnM6IGNyZWF0ZUNvbHVtbnMoewogICAgICAgIHBsYXk6IGZ1bmN0aW9uIHBsYXkocm93KSB7CiAgICAgICAgICBtZXNzYWdlLmluZm8oIlBsYXkgIi5jb25jYXQocm93LnByb2R1Y3RfaWQpKTsKICAgICAgICB9CiAgICAgIH0pLAogICAgICBwYWdpbmF0aW9uOiB7CiAgICAgICAgcGFnZVNpemU6IDEwCiAgICAgIH0KICAgIH07CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29udGVudDogIjxoMT5Tb21lIGluaXRpYWwgY29udGVudDwvaDE+IiwKICAgICAgcHJvZHVjdGxpc3Q6IFtdCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgZmV0Y2goImh0dHA6Ly8xMjcuMC4wLjEvYXBpL2dldHByb2R1Y3RsaXN0IiwgewogICAgICBtZXRob2Q6ICJnZXQiLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgQWNjZXB0OiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBkYXRhLmpzb24oKTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJldCkgewogICAgICBfdGhpcy5wcm9kdWN0bGlzdCA9IHJldC5wcm9kdWN0bGlzdDsKICAgICAgY29uc29sZS5sb2cocmV0LnByb2R1Y3RsaXN0KTsKICAgIH0pOwogIH0KfSk7"},{"version":3,"mappings":";AA6BA,SAASA,CAAT,EAAYC,eAAZ,EAA6BC,GAA7B,QAAwC,KAAxC;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,UAApC;AACA,SAASC,SAAT,QAA0B,aAA1B;;AAEA,IAAMC,aAAY,GAAI,SAAhBA,aAAgB,OAAc;AAAA,MAAXC,IAAW,QAAXA,IAAW;AAClC,SAAO,CACL;AACEC,SAAK,EAAE,IADT;AAEEC,OAAG,EAAE;AAFP,GADK,EAKL;AACED,SAAK,EAAE,MADT;AAEEC,OAAG,EAAE;AAFP,GALK,EASL;AACED,SAAK,EAAE,IADT;AAEEC,OAAG,EAAE;AAFP,GATK,EAaL;AACED,SAAK,EAAE,IADT;AAEEC,OAAG,EAAE;AAFP,GAbK,EAiBL;AACED,SAAK,EAAE,IADT;AAEEC,OAAG,EAAE,SAFP;AAGEC,UAHF,kBAGSC,GAHT,EAGc;AACV,aAAOX,CAAC,CACNG,OADM,EAEN;AACES,cAAM,EAAE,IADV;AAEEC,YAAI,EAAE,SAFR;AAGEC,gBAAQ,EAAE,IAHZ;AAIEC,YAAI,EAAE,OAJR;AAKEC,eAAO,EAAE;AAAA,iBAAMT,IAAI,CAACI,GAAD,CAAV;AAAA;AALX,OAFM,EASN;AAAEM,eAAO,EAAE;AAAA,iBAAM,MAAN;AAAA;AAAX,OATM,CAAR;AAWD;AAfH,GAjBK,CAAP;AAmCD,CApCD;;AAsCA,eAAehB,eAAe,CAAC;AAC7BiB,YAAU,EAAE;AAAEb,aAAQ,EAARA;AAAF,GADiB;AAE7Bc,OAF6B,mBAErB;AACN,QAAMC,OAAM,GAAIhB,UAAU,EAA1B;AACA,WAAO;AACLiB,eAAS,EAAEnB,GAAG,CAAC,KAAD,CADT;AAELoB,aAAO,EAAEhB,aAAa,CAAC;AACrBC,YADqB,gBAChBI,GADgB,EACX;AACRS,iBAAO,CAACG,IAAR,gBAAqBZ,GAAG,CAACa,UAAzB;AACD;AAHoB,OAAD,CAFjB;AAOLC,gBAAU,EAAE;AAAEC,gBAAQ,EAAE;AAAZ;AAPP,KAAP;AASD,GAb4B;AAc7BC,MAd6B,kBActB;AACL,WAAO;AACDC,aAAO,EAAE,+BADR;AAGLC,iBAAW,EAAE;AAHR,KAAP;AAKD,GApB4B;AAqB7BC,SArB6B,qBAqBnB;AAAA;;AACRC,SAAK,CAAC,qCAAD,EAAwC;AAC3CC,YAAM,EAAE,KADmC;AAE3CC,aAAO,EAAE;AACPC,cAAM,EAAE,kBADD;AAEP,wBAAgB;AAFT;AAFkC,KAAxC,CAAL,CAOGC,IAPH,CAOQ,UAACR,IAAD,EAAU;AACd,aAAOA,IAAI,CAACS,IAAL,EAAP;AACD,KATH,EAUGD,IAVH,CAUQ,UAACE,GAAD,EAAS;AACb,WAAI,CAACR,WAAL,GAAmBQ,GAAG,CAACR,WAAvB;AACAS,aAAO,CAACC,GAAR,CAAYF,GAAG,CAACR,WAAhB;AACD,KAbH;AAcD;AApC4B,CAAD,CAA9B","names":["h","defineComponent","ref","NButton","useMessage","VueEditor","createColumns","play","title","key","render","row","strong","type","tertiary","size","onClick","default","components","setup","message","showModal","columns","info","product_id","pagination","pageSize","data","content","productlist","mounted","fetch","method","headers","Accept","then","json","ret","console","log"],"sourceRoot":"","sources":["/Users/decat/Vue3_ecomm/src/views/adm/product.vue"],"sourcesContent":["<template>\n  商品管理\n  <n-button type=\"primary\" @click=\"showModal = true\"> 新增商品 </n-button>\n    <vue-editor v-model=\"content\" />\n\n  <n-data-table\n    :columns=\"columns\"\n    :data=\"productlist\"\n    :pagination=\"pagination\"\n    :bordered=\"false\"\n  />\n\n  <n-modal v-model:show=\"showModal\">\n    <n-card\n      style=\"width: 600px\"\n      title=\"Modal\"\n      :bordered=\"false\"\n      size=\"huge\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n    >\n      <template #header-extra> Oops! </template>\n      Content\n      <template #footer> Footer </template>\n    </n-card>\n  </n-modal>\n</template>\n\n<script>\nimport { h, defineComponent, ref } from \"vue\";\nimport { NButton, useMessage } from \"naive-ui\";\nimport { VueEditor } from \"vue3-editor\";\n\nconst createColumns = ({ play }) => {\n  return [\n    {\n      title: \"代號\",\n      key: \"product_id\",\n    },\n    {\n      title: \"商品名稱\",\n      key: \"product_name\",\n    },\n    {\n      title: \"數量\",\n      key: \"product_count\",\n    },\n    {\n      title: \"價格\",\n      key: \"product_price\",\n    },\n    {\n      title: \"操作\",\n      key: \"actions\",\n      render(row) {\n        return h(\n          NButton,\n          {\n            strong: true,\n            type: \"primary\",\n            tertiary: true,\n            size: \"small\",\n            onClick: () => play(row),\n          },\n          { default: () => \"Play\" }\n        );\n      },\n    },\n  ];\n};\n\nexport default defineComponent({\n  components: { VueEditor },\n  setup() {\n    const message = useMessage();\n    return {\n      showModal: ref(false),\n      columns: createColumns({\n        play(row) {\n          message.info(`Play ${row.product_id}`);\n        },\n      }),\n      pagination: { pageSize: 10 },\n    };\n  },\n  data() {\n    return {\n          content: \"<h1>Some initial content</h1>\",\n\n      productlist: [],\n    };\n  },\n  mounted() {\n    fetch(\"http://127.0.0.1/api/getproductlist\", {\n      method: \"get\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((data) => {\n        return data.json();\n      })\n      .then((ret) => {\n        this.productlist = ret.productlist;\n        console.log(ret.productlist);\n      });\n  },\n});\n</script>"]}]}