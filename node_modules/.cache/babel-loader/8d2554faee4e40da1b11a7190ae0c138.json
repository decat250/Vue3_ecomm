{"remainingRequest":"/Users/decat/Desktop/vue3/node_modules/babel-loader/lib/index.js!/Users/decat/Desktop/vue3/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/decat/Desktop/vue3/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Desktop/vue3/src/components/header.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/decat/Desktop/vue3/src/components/header.vue","mtime":1644988606123},{"path":"/Users/decat/Desktop/vue3/babel.config.js","mtime":1644914594658},{"path":"/Users/decat/Desktop/vue3/node_modules/cache-loader/dist/cjs.js","mtime":1644496465656},{"path":"/Users/decat/Desktop/vue3/node_modules/babel-loader/lib/index.js","mtime":1644496465918},{"path":"/Users/decat/Desktop/vue3/node_modules/cache-loader/dist/cjs.js","mtime":1644496465656},{"path":"/Users/decat/Desktop/vue3/node_modules/vue-loader-v16/dist/index.js","mtime":1644496465914}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcmVmIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgdXNlTWVzc2FnZSB9IGZyb20gIm5haXZlLXVpIjsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBuYW1lOiAiaGVhZGVyIiwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNsb2dpbjogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIGlzTG9naW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWNjb3VudCIpOwoKICAgIGlmIChpc0xvZ2luICE9IG51bGwpIHsKICAgICAgdGhpcy5pc2xvZ2luID0gdHJ1ZTsKICAgICAgdGhpcy5hY2NvdW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFjY291bnQiKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuaXNsb2dpbiA9IGZhbHNlOwogICAgfQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgd2luZG93LiRtZXNzYWdlID0gdXNlTWVzc2FnZSgpOwogICAgdmFyIGZvcm1SZWYgPSByZWYobnVsbCk7CiAgICByZXR1cm4gewogICAgICBmb3JtUmVmOiBmb3JtUmVmLAogICAgICBzaG93TG9naW5Nb2RhbDogcmVmKGZhbHNlKSwKICAgICAgbG9naW5mb3JtVmFsdWU6IHJlZih7CiAgICAgICAgdXNlcjogewogICAgICAgICAgYWNjb3VudDogIiIsCiAgICAgICAgICBwYXNzd29yZDogIiIKICAgICAgICB9CiAgICAgIH0pLAogICAgICBzaWdudXBmb3JtVmFsdWU6IHJlZih7CiAgICAgICAgYWNjb3VudDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIHJlZW50ZXJlZFBhc3N3b3JkOiAiIiwKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGhvbmU6ICIiLAogICAgICAgIGFnZTogIiIKICAgICAgfSksCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgZW1haWw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLpgJnmmK/lv4XloavmrITkvY0iLAogICAgICAgICAgdHJpZ2dlcjogWyJpbnB1dCIsICJibHVyIl0KICAgICAgICB9XSwKICAgICAgICBhY2NvdW50OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6YCZ5piv5b+F5aGr5qyE5L2NIiwKICAgICAgICAgIHRyaWdnZXI6IFsiaW5wdXQiLCAiYmx1ciJdCiAgICAgICAgfV0sCiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIumAmeaYr+W/heWhq+ashOS9jSIsCiAgICAgICAgICB0cmlnZ2VyOiBbImlucHV0IiwgImJsdXIiXQogICAgICAgIH1dLAogICAgICAgIHBob25lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6YCZ5piv5b+F5aGr5qyE5L2NIiwKICAgICAgICAgIHRyaWdnZXI6IFsiaW5wdXQiLCAiYmx1ciJdCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLpgJnmmK/lv4XloavmrITkvY0iLAogICAgICAgICAgdHJpZ2dlcjogWyJpbnB1dCIsICJibHVyIl0KICAgICAgICB9XSwKICAgICAgICByZWVudGVyZWRQYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIumAmeaYr+W/heWhq+ashOS9jSIsCiAgICAgICAgICB0cmlnZ2VyOiBbImlucHV0IiwgImJsdXIiXQogICAgICAgIH0sIHsKICAgICAgICAgIG1lc3NhZ2U6ICdQYXNzd29yZCBpcyBub3Qgc2FtZSBhcyByZS1lbnRlcmVkIHBhc3N3b3JkIScsCiAgICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAncGFzc3dvcmQtaW5wdXQnXQogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaWdudXA6IGZ1bmN0aW9uIHNpZ251cCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuZm9ybVJlZi52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICBmZXRjaCgiaHR0cDovL2xvY2FsaG9zdC9hcGkvc2lnbnVwIiwgewogICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgIGFjY291bnQ6IF90aGlzLnNpZ251cGZvcm1WYWx1ZS5hY2NvdW50LAogICAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpcy5zaWdudXBmb3JtVmFsdWUucGFzc3dvcmQsCiAgICAgICAgICAgICAgbmFtZTogX3RoaXMuc2lnbnVwZm9ybVZhbHVlLm5hbWUsCiAgICAgICAgICAgICAgcGhvbmU6IF90aGlzLnNpZ251cGZvcm1WYWx1ZS5waG9uZSwKICAgICAgICAgICAgICBlbWFpbDogX3RoaXMuc2lnbnVwZm9ybVZhbHVlLmVtYWlsCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIHJldHVybiBkYXRhLmpzb24oKTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJldCkgewogICAgICAgICAgICBpZiAocmV0LlN0YXR1cyA9PSAiU3VjY2VzcyIpIHsKICAgICAgICAgICAgICB3aW5kb3cuJG1lc3NhZ2Uuc3VjY2VzcyhyZXQuTWVzc2FnZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgd2luZG93LiRtZXNzYWdlLmVycm9yKHJldC5NZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiYWNjb3VudCIpOwogICAgICB0aGlzLmlzbG9naW4gPSBmYWxzZTsKICAgICAgd2luZG93LiRtZXNzYWdlLnN1Y2Nlc3MoIuaCqOW3sueZu+WHuiIpOwogICAgfSwKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBmZXRjaCgiaHR0cDovLzEyNy4wLjAuMS9hcGkvc2lnbmluIiwgewogICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgIH0sCiAgICAgICAgLy9tYWtlIHN1cmUgdG8gc2VyaWFsaXplIHlvdXIgSlNPTiBib2R5CiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgYWNjb3VudDogdGhpcy5sb2dpbmZvcm1WYWx1ZS51c2VyLmFjY291bnQsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5sb2dpbmZvcm1WYWx1ZS51c2VyLnBhc3N3b3JkCiAgICAgICAgfSkKICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBkYXRhLmpzb24oKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmV0KSB7CiAgICAgICAgY29uc29sZS5sb2cocmV0KTsKCiAgICAgICAgaWYgKHJldC5TdGF0dXMgPT0gIlN1Y2Nlc3MiKSB7CiAgICAgICAgICBfdGhpczIuc2hvd0xvZ2luTW9kYWwgPSBmYWxzZTsKICAgICAgICAgIF90aGlzMi5pc2xvZ2luID0gdHJ1ZTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJhY2NvdW50IiwgcmV0LmRhdGFbMF0pOwogICAgICAgICAgd2luZG93LiRtZXNzYWdlLnN1Y2Nlc3MocmV0Lk1lc3NhZ2UpOwogICAgICAgICAgX3RoaXMyLmxvZ2luZm9ybVZhbHVlLnVzZXIuYWNjb3VudCA9ICIiOwogICAgICAgICAgX3RoaXMyLmxvZ2luZm9ybVZhbHVlLnVzZXIucGFzc3dvcmQgPSAiIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2luZG93LiRtZXNzYWdlLmVycm9yKHJldC5NZXNzYWdlKTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi5zaG93TG9naW5Nb2RhbCk7CiAgICAgIH0pOwogICAgfQogIH0KfSk7"},{"version":3,"mappings":"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","names":["defineComponent","ref","useMessage","name","components","data","islogin","mounted","isLogin","localStorage","getItem","account","setup","window","$message","formRef","showLoginModal","loginformValue","user","password","signupformValue","reenteredPassword","email","phone","age","rules","required","message","trigger","methods","signup","validate","valid","fetch","method","headers","Accept","body","JSON","stringify","then","json","ret","Status","success","Message","error","logout","removeItem","login","console","log","setItem"],"sourceRoot":"","sources":["/Users/decat/Desktop/vue3/src/components/header.vue"],"sourcesContent":["\n<template>\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n    <div class=\"container-fluid\">\n      <a class=\"navbar-brand\" href=\"#\">Navbar</a>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarSupportedContent\"\n        aria-controls=\"navbarSupportedContent\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/\">首頁</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/about\">About</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/test\">test</router-link>\n          </li>\n        </ul>\n\n        <span\n          v-if=\"islogin\"\n          class=\"navbar-text\"\n          style=\"text-decoration: none; margin-right: 10px\"\n        >\n          <router-link\n            v-if=\"islogin\"\n            to=\"/Userinfo\"\n            style=\"text-decoration: none\"\n            >{{ account }}test</router-link\n          >\n        </span>\n\n        <span class=\"navbar-text\" style=\"text-decoration: none\">\n          <a\n            v-if=\"islogin\"\n            to=\"\"\n            style=\"text-decoration: none\"\n            v-on:click=\"logout\"\n            >登出</a\n          >\n        </span>\n\n        <span class=\"navbar-text\" v-if=\"!islogin\" style=\"text-decoration: none\">\n          <a\n            style=\"text-decoration: none\"\n            @click=\"showLoginModal = true\"\n            v-if=\"!islogin\"\n            >登入</a\n          >\n        </span>\n      </div>\n    </div>\n  </nav>\n\n  <n-modal v-model:show=\"showLoginModal\" content=\"Are you sure?\">\n    <n-card\n      style=\"width: 600px\"\n      title=\"\"\n      :bordered=\"false\"\n      size=\"huge\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n    >\n      <n-tabs default-value=\"signin\" size=\"large\">\n        <n-tab-pane name=\"signin\" tab=\"登入\">\n          <n-form :model=\"loginformValue\">\n            <n-form-item-row label=\"帳號\">\n              <n-input\n                v-model:value=\"loginformValue.user.account\"\n                placeholder=\"請輸入帳號\"\n                clearable\n              />\n            </n-form-item-row>\n            <n-form-item-row label=\"密碼\">\n              <n-input\n                v-model:value=\"loginformValue.user.password\"\n                placeholder=\"請輸入密碼\"\n                @keyup.enter=\"login\"\n                type=\"password\"\n                clearable\n              />\n            </n-form-item-row>\n          </n-form>\n          <n-button type=\"primary\" block secondary strong v-on:click=\"login\"\n            >登入\n          </n-button>\n        </n-tab-pane>\n\n        <n-tab-pane name=\"signup\" tab=\"註冊帳號\">\n          <n-form :model=\"signupformValue\" ref=\"formRef\" :rules=\"rules\">\n            <n-form-item path=\"account\" label=\"帳號\">\n              <n-input\n                v-model:value=\"signupformValue.account\"\n                placeholder=\"請輸入帳號\"\n              />\n            </n-form-item>\n\n            <n-form-item path=\"name\" label=\"姓名\">\n              <n-input\n                v-model:value=\"signupformValue.name\"\n                placeholder=\"請輸入姓名\"\n              />\n            </n-form-item>\n\n            <n-form-item path=\"phone\" label=\"電話\">\n              <n-input\n                v-model:value=\"signupformValue.phone\"\n                placeholder=\"請輸入電話\"\n              />\n            </n-form-item>\n\n            <n-form-item path=\"email\" label=\"信箱\">\n              <n-input\n                v-model:value=\"signupformValue.email\"\n                placeholder=\"請輸入信箱\"\n              />\n            </n-form-item>\n\n            <n-form-item path=\"password\" placeholder=\"請輸入密碼\" label=\"密碼\">\n              <n-input v-model:value=\"signupformValue.password\" />\n            </n-form-item>\n\n            <n-form-item\n              path=\"reenteredPassword\"\n              placeholder=\"請重新輸入密碼\"\n              label=\"確認密碼\"\n            >\n              <n-input v-model:value=\"signupformValue.reenteredPassword\" />\n            </n-form-item>\n\n            <n-button type=\"primary\" @click=\"signup()\" block secondary strong\n              >註冊\n            </n-button>\n          </n-form>\n        </n-tab-pane>\n      </n-tabs>\n    </n-card>\n  </n-modal>\n</template>\n\n<script>\nimport { defineComponent, ref } from \"vue\";\nimport { useMessage } from \"naive-ui\";\n\nexport default defineComponent({\n  name: \"header\",\n  components: {},\n  data() {\n    return {\n      islogin: false,\n    };\n  },\n  mounted() {\n    const isLogin = localStorage.getItem(\"account\");\n\n    if (isLogin != null) {\n      this.islogin = true;\n      this.account = localStorage.getItem(\"account\");\n    } else {\n      this.islogin = false;\n    }\n  },\n  setup() {\n    window.$message = useMessage();\n    const formRef = ref(null);\n    \n    return {\n      formRef,\n      showLoginModal: ref(false),\n      loginformValue: ref({\n        user: {\n          account: \"\",\n          password: \"\",\n        },\n      }),\n      signupformValue: ref({\n        account: \"\",\n        password: \"\",\n        reenteredPassword: \"\",\n        email: \"\",\n        phone: \"\",\n        age: \"\",\n      }),\n      rules: {\n        email: [\n          {\n            required: true,\n            message: \"這是必填欄位\",\n            trigger: [\"input\", \"blur\"],\n          },\n        ],\n        account: [\n          {\n            required: true,\n            message: \"這是必填欄位\",\n            trigger: [\"input\", \"blur\"],\n          },\n        ],\n        name: [\n          {\n            required: true,\n            message: \"這是必填欄位\",\n            trigger: [\"input\", \"blur\"],\n          },\n        ],\n        phone: [\n          {\n            required: true,\n            message: \"這是必填欄位\",\n            trigger: [\"input\", \"blur\"],\n          },\n        ],\n        password: [\n          {\n            required: true,\n            message: \"這是必填欄位\",\n            trigger: [\"input\", \"blur\"],\n          },\n        ],\n        reenteredPassword: [\n          {\n            required: true,\n            message: \"這是必填欄位\",\n            trigger: [\"input\", \"blur\"],\n          },\n          {\n            message: 'Password is not same as re-entered password!',\n            trigger: ['blur', 'password-input']\n          }\n        ],\n      },\n    };\n  },\n  methods: {\n    signup() {\n      this.formRef.validate((valid) => {\n        if (!valid) {\n          fetch(\"http://localhost/api/signup\", {\n            method: \"post\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              account: this.signupformValue.account,\n              password: this.signupformValue.password,\n              name: this.signupformValue.name,\n              phone: this.signupformValue.phone,\n              email: this.signupformValue.email,\n            }),\n          })\n            .then((data) => {\n              return data.json();\n            })\n            .then((ret) => {\n              if (ret.Status == \"Success\") {\n                window.$message.success(ret.Message);\n              } else {\n                window.$message.error(ret.Message);\n              }\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    logout() {\n      localStorage.removeItem(\"account\");\n      this.islogin = false;\n      window.$message.success(\"您已登出\");\n    },\n    login() {\n      fetch(\"http://127.0.0.1/api/signin\", {\n        method: \"post\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n\n        //make sure to serialize your JSON body\n        body: JSON.stringify({\n          account: this.loginformValue.user.account,\n          password: this.loginformValue.user.password,\n        }),\n      })\n        .then((data) => {\n          return data.json();\n        })\n        .then((ret) => {\n          console.log(ret);\n          if (ret.Status == \"Success\") {\n            this.showLoginModal = false;\n            this.islogin = true;\n            localStorage.setItem(\"account\", ret.data[0]);\n            window.$message.success(ret.Message);\n            this.loginformValue.user.account = \"\";\n            this.loginformValue.user.password = \"\";\n          } else {\n            window.$message.error(ret.Message);\n          }\n          \n          console.log(this.showLoginModal);\n        });\n    },\n  },\n});\n</script>\n"]}]}