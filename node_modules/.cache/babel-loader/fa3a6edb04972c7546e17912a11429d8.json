{"remainingRequest":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Vue3_ecomm/src/views/adm/banner.vue?vue&type=template&id=c4e6cd6a","dependencies":[{"path":"/Users/decat/Vue3_ecomm/src/views/adm/banner.vue","mtime":1645696107572},{"path":"/Users/decat/Vue3_ecomm/babel.config.js","mtime":1645696101737},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js","mtime":1645696104065},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1645696107320},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js","mtime":1645696107319}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrIH0gZnJvbSAidnVlIjsKCnZhciBfaG9pc3RlZF8xID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIiDllYblk4HpoIFiYW5uZXLnrqHnkIYgIik7Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCLngI/opr3mqpTmoYggIik7Cgp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogImNvbnRhaW5lciB0ZXN0aW1vbmlhbC1ncm91cCIsCiAgc3R5bGU6IHsKICAgICJtYXJnaW4tdG9wIjogIjEwcHgiCiAgfQp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogInJvdyB0ZXh0LWNlbnRlciIKfTsKdmFyIF9ob2lzdGVkXzUgPSBbInNyYyJdOwoKdmFyIF9ob2lzdGVkXzYgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnIiLCBudWxsLCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIg5Yiq6ZmkICIpOwoKdmFyIF9ob2lzdGVkXzggPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgi56K66KqN5L+u5pS5ICIpOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9uX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJuLWJ1dHRvbiIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgW19ob2lzdGVkXzEsIF9jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgdHlwZTogImZpbGUiLAogICAgYWNjZXB0OiAiaW1hZ2UvKiIsCiAgICBtdWx0aXBsZTogIiIsCiAgICBvbkNoYW5nZTogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfY3R4LnByZXZpZXdNdWx0aUltYWdlICYmIF9jdHgucHJldmlld011bHRpSW1hZ2UuYXBwbHkoX2N0eCwgYXJndW1lbnRzKTsKICAgIH0pLAogICAgY2xhc3M6ICJmb3JtLWNvbnRyb2wtZmlsZSIsCiAgICBpZDogIm15LWZpbGUiLAogICAgcmVmOiAiZmlsZUlucHV0IiwKICAgIHN0eWxlOiB7CiAgICAgICJkaXNwbGF5IjogIm5vbmUiCiAgICB9CiAgfSwgbnVsbCwgNTQ0CiAgLyogSFlEUkFURV9FVkVOVFMsIE5FRURfUEFUQ0ggKi8KICApLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9uX2J1dHRvbiwgewogICAgdHlwZTogInByaW1hcnkiLAogICAgb25jbGljazogImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteS1maWxlJykuY2xpY2soKTsiCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19ob2lzdGVkXzJdOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChfY3R4LnByZXZpZXdfbGlzdCwgZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgIGNsYXNzOiAiY29sLTQiLAogICAgICBzdHlsZTogewogICAgICAgICJtYXJnaW4tYm90dG9tIjogIjMwcHgiCiAgICAgIH0sCiAgICAgIGtleTogaW5kZXgKICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJpbWciLCB7CiAgICAgIHNyYzogaXRlbSwKICAgICAgY2xhc3M6ICJpbWctZmx1aWQiLAogICAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICByZXR1cm4gX2N0eC5jbGlja2luZygkZXZlbnQpOwogICAgICB9KSwKICAgICAgc3R5bGU6IHsKICAgICAgICAibWF4LXdpZHRoIjogIjEwMHB4IgogICAgICB9CiAgICB9LCBudWxsLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBfaG9pc3RlZF81KSwgX2hvaXN0ZWRfNiwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfbl9idXR0b24sIHsKICAgICAgdHlwZTogImVycm9yIiwKICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICByZXR1cm4gX2N0eC5kZWxldGVpbWcoaW5kZXgpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gW19ob2lzdGVkXzddOwogICAgICB9KSwKICAgICAgXzogMgogICAgICAvKiBEWU5BTUlDICovCgogICAgfSwgMTAzMgogICAgLyogUFJPUFMsIERZTkFNSUNfU0xPVFMgKi8KICAgICwgWyJvbkNsaWNrIl0pXSk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfbl9idXR0b24sIHsKICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gX2N0eC5uZXdwcm9kdWN0KCk7CiAgICB9KSwKICAgIGJsb2NrOiAiIiwKICAgIHNlY29uZGFyeTogIiIsCiAgICBzdHJvbmc6ICIiCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19ob2lzdGVkXzhdOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSldKV0sIDY0CiAgLyogU1RBQkxFX0ZSQUdNRU5UICovCiAgKTsKfQ=="},{"version":3,"mappings":";;;;+CAcK;;;AAGEA,OAAK,EAAC;AAA8BC,OAAwB,EAAxB;AAAA;AAAA;;;AAClCD,OAAK,EAAC;;;;8BAaPE,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;+CACqD;;+CAItD;;;;;yEAjCLA,oBASE,OATF,EASE;AARAC,QAAI,EAAC,MAQL;AAPAC,UAAM,EAAC,SAOP;AANAC,YAAQ,EAAR,EAMA;AALCC,YAAM;AAAA,aAAEC,uEAAF;AAAA,MAKP;AAJAP,SAAK,EAAC,mBAIN;AAHAQ,MAAE,EAAC,SAGH;AAFAC,OAAG,EAAC,WAEJ;AADAR,SAAqB,EAArB;AAAA;AAAA;AACA,GATF;;AAAA,KAUAS,aAEWC,mBAFX,EAEW;AAFDR,QAAI,EAAC,SAEJ;AAFcS,WAAO,EAAC;AAEtB,GAFX;sBACG;AAAA,aACH,YADG;AAAA;;;;GADH,GAIAV,oBAqBM,KArBN,cAqBM,CApBJA,oBAgBM,KAhBN,cAgBM,oBAfJW,oBAcMC,SAdN,EAcM,IAdN,EAcMC,YAXoBR,iBAWpB,EAXgC,UAA5BS,IAA4B,EAAtBC,KAAsB,EAAjB;yBAHrBJ,oBAcM,KAdN,EAcM;AAbJb,WAAK,EAAC,OAaF;AAZJC,WAA2B,EAA3B;AAAA;AAAA,OAYI;AAVHiB,SAAG,EAAED;AAUF,KAdN,GAMEf,oBAKE,KALF,EAKE;AAJCiB,SAAG,EAAEH,IAIN;AAHAhB,WAAK,EAAC,WAGN;AAFKoB,aAAK;AAAA,eAAEb,cAASc,MAAT,CAAF;AAAA,QAEV;AADApB,WAAwB,EAAxB;AAAA;AAAA;AACA,KALF;;AAAA,mBAMAqB,YACAZ,aAAoEC,mBAApE,EAAoE;AAA1DR,UAAI,EAAC,OAAqD;AAAxCiB,aAAK;AAAA,eAAEb,eAAUU,KAAV,CAAF;AAAA;AAAmC,KAApE;wBAAqD;AAAA,eAAI,YAAJ;AAAA;;;;KAArD;;AAAA,mBAbF;GAcM,CAdN;;AAAA,GAeI,EAhBN,CAoBI,EAHJP,aAEWC,mBAFX,EAEW;AAFDR,QAAI,EAAC,SAEJ;AAFeiB,WAAK;AAAA,aAAEb,iBAAF;AAAA,MAEpB;AAFoCgB,SAAK,EAAL,EAEpC;AAF0CC,aAAS,EAAT,EAE1C;AAFoDC,UAAM,EAAN;AAEpD,GAFX;sBACG;AAAA,aACH,YADG;AAAA;;;;GADH,CAGI,CArBN","names":["class","style","_createElementVNode","type","accept","multiple","onChange","_ctx","id","ref","_createVNode","_component_n_button","onclick","_createElementBlock","_Fragment","_renderList","item","index","key","src","onClick","$event","_hoisted_6","block","secondary","strong"],"sourceRoot":"","sources":["/Users/decat/Vue3_ecomm/src/views/adm/banner.vue"],"sourcesContent":["<template>\n  商品頁banner管理\n\n  <input\n    type=\"file\"\n    accept=\"image/*\"\n    multiple\n    @change=\"previewMultiImage\"\n    class=\"form-control-file\"\n    id=\"my-file\"\n    ref=\"fileInput\"\n    style=\"display: none\"\n  />\n  <n-button type=\"primary\" onclick=\"document.getElementById('my-file').click();\"\n    >瀏覽檔案\n  </n-button>\n\n  <div class=\"container testimonial-group\" style=\"margin-top: 10px\">\n    <div class=\"row text-center\">\n      <div\n        class=\"col-4\"\n        style=\"margin-bottom: 30px\"\n        v-for=\"(item, index) in preview_list\"\n        :key=\"index\"\n      >\n        <img\n          :src=\"item\"\n          class=\"img-fluid\"\n          v-on:click=\"clicking($event)\"\n          style=\"max-width: 100px\"\n        />\n        <br />\n        <n-button type=\"error\" v-on:click=\"deleteimg(index)\"> 刪除 </n-button>\n      </div>\n    </div>\n    <n-button type=\"primary\" @click=\"newproduct()\" block secondary strong\n      >確認修改\n    </n-button>\n  </div>\n</template>\n<style>\n.btn-file input[type=\"file\"] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  min-width: 100%;\n  min-height: 100%;\n  font-size: 100px;\n  text-align: right;\n  filter: alpha(opacity=0);\n  opacity: 0;\n  outline: none;\n  background: white;\n  cursor: inherit;\n  display: block;\n}\n</style>\n<script>\nimport { defineComponent } from \"vue\";\nimport axios from \"axios\";\nexport default defineComponent({\n  components: {},\n\n  setup() {\n    return {};\n  },\n  data() {\n    return {\n      productlist: [],\n      preview: \"\",\n      image_list: [],\n      preview_list: [],\n    };\n  },\n  mounted() {\n    fetch(\"http://127.0.0.1/api/getproductlist\", {\n      method: \"get\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((data) => {\n        return data.json();\n      })\n      .then((ret) => {\n        for (var i = 0; i < ret.bannerimg.length; i++) {\n          this.getfileimg(ret.bannerimg[i].item);\n        }\n      });\n  },\n  methods: {\n    getfileimg(url) {\n      fetch(url, { mode: \"cors\" })\n        .then((res) => res.blob())\n        .then((blob) => {\n          const file = new File([blob], \"url.jpg\", { type: \"image/png\" });\n          this.image_list.push(file);\n\n          var fr = new FileReader();\n          fr.onload = (e) => {\n            this.preview_list.push(e.target.result);\n          };\n          fr.readAsDataURL(blob);\n        });\n    },\n\n    deleteimg(index) {\n      console.log(index);\n      this.preview_list.splice(index, 1);\n      this.image_list.splice(index, 1);\n    },\n    previewMultiImage: function (event) {\n      //this.imagesArray = event.target.files;\n      var input = event.target;\n      var count = input.files.length;\n      var index = 0;\n      if (input.files) {\n        while (count--) {\n          var reader = new FileReader();\n          reader.onload = (e) => {\n            this.preview_list.push(e.target.result);\n          };\n          this.image_list.push(input.files[index]);\n          reader.readAsDataURL(input.files[index]);\n          index++;\n        }\n      }\n    },\n    newproduct() {\n\n      const formData = new FormData();\n\n      for (var i = 0; i < this.image_list.length; i++) {\n        formData.append(\"file[]\", this.image_list[i]);\n      }\n\n      axios.post(\"http://localhost/api/bannering\", formData, {}).then((res) => {\n        console.log(res.data.Status)\n        if (res.data.Status == \"Success\") {      \n          window.$message.success(\"資料修改完成\");\n        } else {\n          window.$message.error(res.Message);\n        }\n      });\n    },\n  },\n});\n</script>"]}]}