{"remainingRequest":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js!/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Vue3_ecomm/src/views/adm/product.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/decat/Vue3_ecomm/src/views/adm/product.vue","mtime":1645201299786},{"path":"/Users/decat/Vue3_ecomm/babel.config.js","mtime":1644997285751},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1644997287108},{"path":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js","mtime":1644997287031},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1644997287108},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js","mtime":1644997290172}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9kZWNhdC9WdWUzX2Vjb21tL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgaCwgZGVmaW5lQ29tcG9uZW50LCByZWYgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyBOQnV0dG9uLCB1c2VNZXNzYWdlIH0gZnJvbSAibmFpdmUtdWkiOwppbXBvcnQgeyBWdWVFZGl0b3IgfSBmcm9tICJ2dWUzLWVkaXRvciI7CmltcG9ydCB7IFZ1ZUFnaWxlIH0gZnJvbSAndnVlLWFnaWxlJzsKCnZhciBjcmVhdGVDb2x1bW5zID0gZnVuY3Rpb24gY3JlYXRlQ29sdW1ucyhfcmVmKSB7CiAgdmFyIHBsYXkgPSBfcmVmLnBsYXk7CiAgcmV0dXJuIFt7CiAgICB0aXRsZTogIuS7o+iZnyIsCiAgICBrZXk6ICJwcm9kdWN0X2lkIgogIH0sIHsKICAgIHRpdGxlOiAi5ZWG5ZOB5ZCN56ixIiwKICAgIGtleTogInByb2R1Y3RfbmFtZSIKICB9LCB7CiAgICB0aXRsZTogIuaVuOmHjyIsCiAgICBrZXk6ICJwcm9kdWN0X2NvdW50IgogIH0sIHsKICAgIHRpdGxlOiAi5YO55qC8IiwKICAgIGtleTogInByb2R1Y3RfcHJpY2UiCiAgfSwgewogICAgdGl0bGU6ICLmk43kvZwiLAogICAga2V5OiAiYWN0aW9ucyIsCiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihyb3cpIHsKICAgICAgcmV0dXJuIGgoTkJ1dHRvbiwgewogICAgICAgIHN0cm9uZzogdHJ1ZSwKICAgICAgICB0eXBlOiAicHJpbWFyeSIsCiAgICAgICAgdGVydGlhcnk6IHRydWUsCiAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgcmV0dXJuIHBsYXkocm93KTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICAgIHJldHVybiAiUGxheSI7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9XTsKfTsKCmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgVnVlRWRpdG9yOiBWdWVFZGl0b3IsCiAgICBhZ2lsZTogVnVlQWdpbGUKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBtZXNzYWdlID0gdXNlTWVzc2FnZSgpOwogICAgdmFyIGZvcm1SZWYgPSByZWYobnVsbCk7CiAgICB2YXIgclBhc3N3b3JkRm9ybUl0ZW1SZWYgPSByZWYobnVsbCk7CiAgICB2YXIgbW9kZWxSZWYgPSByZWYoe30pOwogICAgcmV0dXJuIHsKICAgICAgYmVmb3JlVXBsb2FkOiBmdW5jdGlvbiBiZWZvcmVVcGxvYWQoX3JlZjIpIHsKICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgICAgdmFyIGZpbGU7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGZpbGUgPSBfcmVmMi5maWxlOwoKICAgICAgICAgICAgICAgICAgaWYgKCEoZmlsZS5maWxlLnR5cGUgIT09ICJpbWFnZS9wbmciKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBtZXNzYWdlLmVycm9yKCLlj6rog73kuIrkvKBwbmfmoLzlvI/nmoTlm77niYfmlofku7bvvIzor7fph43mlrDkuIrkvKAiKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKSgpOwogICAgICB9LAogICAgICBzaG93TW9kYWw6IHJlZihmYWxzZSksCiAgICAgIGNvbHVtbnM6IGNyZWF0ZUNvbHVtbnMoewogICAgICAgIHBsYXk6IGZ1bmN0aW9uIHBsYXkocm93KSB7CiAgICAgICAgICB0aGlzLnNob3dNb2RhbCA9IHRydWU7CiAgICAgICAgICBtZXNzYWdlLmluZm8oIlBsYXkgIi5jb25jYXQocm93LnByb2R1Y3RfaWQpKTsKICAgICAgICB9CiAgICAgIH0pLAogICAgICBwYWdpbmF0aW9uOiB7CiAgICAgICAgcGFnZVNpemU6IDEwCiAgICAgIH0sCiAgICAgIGZvcm1SZWY6IGZvcm1SZWYsCiAgICAgIHJQYXNzd29yZEZvcm1JdGVtUmVmOiByUGFzc3dvcmRGb3JtSXRlbVJlZiwKICAgICAgbW9kZWw6IG1vZGVsUmVmLAogICAgICBydWxlczoge30KICAgIH07CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29udGVudDogIjxoMT5Tb21lIGluaXRpYWwgY29udGVudDwvaDE+IiwKICAgICAgcHJvZHVjdGxpc3Q6IFtdCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgZmV0Y2goImh0dHA6Ly8xMjcuMC4wLjEvYXBpL2dldHByb2R1Y3RsaXN0IiwgewogICAgICBtZXRob2Q6ICJnZXQiCiAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBkYXRhLmpzb24oKTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJldCkgewogICAgICBfdGhpcy5wcm9kdWN0bGlzdCA9IHJldC5wcm9kdWN0bGlzdDsKICAgIH0pOwogIH0KfSk7"},{"version":3,"mappings":"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","names":["h","defineComponent","ref","NButton","useMessage","VueEditor","VueAgile","createColumns","play","title","key","render","row","strong","type","tertiary","size","onClick","default","components","agile","setup","message","formRef","rPasswordFormItemRef","modelRef","beforeUpload","file","error","showModal","columns","info","product_id","pagination","pageSize","model","rules","data","content","productlist","mounted","fetch","method","then","json","ret"],"sourceRoot":"","sources":["/Users/decat/Vue3_ecomm/src/views/adm/product.vue"],"sourcesContent":["<template>\n  商品管理\n  <n-button type=\"primary\" @click=\"showModal = true\"> 新增商品 </n-button>\n\n  <n-data-table\n    :columns=\"columns\"\n    :data=\"productlist\"\n    :pagination=\"pagination\"\n    :bordered=\"false\"\n  />\n\n  <n-modal v-model:show=\"showModal\">\n    <n-card\n      style=\"width: 600px\"\n      title=\"Modal\"\n      :bordered=\"false\"\n      size=\"huge\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n    >\n      <n-form :model=\"model\" ref=\"formRef\" :rules=\"rules\">\n        <n-form-item path=\"product_name\" label=\"商品名稱\">\n          <n-input\n            placeholder=\"請輸入商品名稱\"\n            clearable\n            v-model:value=\"model.password\"\n            type=\"\"\n          />\n        </n-form-item>\n\n        <div class=\"row\">\n          <n-form-item class=\"col-6\" path=\"product_price\" label=\"價格\">\n            <n-input-number\n              v-model:value=\"model.price\"\n              placeholder=\"請輸入商品價格\"\n              clearable\n            />\n          </n-form-item>\n\n          <n-form-item class=\"col-6\" path=\"product_count\" label=\"數量\">\n            <n-input-number\n              placeholder=\"請輸入商品數量\"\n              v-model:value=\"model.count\"\n              clearable\n            />\n          </n-form-item>\n        </div>\n        <hr />\n        <n-upload\n          action=\"https://www.mocky.io/v2/5e4bafc63100007100d8b70f\"\n          @before-upload=\"beforeUpload\"\n        >\n          <n-button>上传 PNG 文件</n-button>\n        </n-upload>\n        \n        商品描述\n        <vue-editor v-model=\"content\" />\n        {{ content }}\n\n        <n-button type=\"primary\" @click=\"newproduct()\" block secondary strong\n          >新增商品\n        </n-button>\n      </n-form>\n    </n-card>\n  </n-modal>\n</template>\n\n<script>\nimport { h, defineComponent, ref } from \"vue\";\nimport { NButton, useMessage } from \"naive-ui\";\nimport { VueEditor } from \"vue3-editor\";\nimport { VueAgile } from 'vue-agile'\nconst createColumns = ({ play }) => {\n  return [\n    {\n      title: \"代號\",\n      key: \"product_id\",\n    },\n    {\n      title: \"商品名稱\",\n      key: \"product_name\",\n    },\n    {\n      title: \"數量\",\n      key: \"product_count\",\n    },\n    {\n      title: \"價格\",\n      key: \"product_price\",\n    },\n    {\n      title: \"操作\",\n      key: \"actions\",\n      render(row) {\n        return h(\n          NButton,\n          {\n            strong: true,\n            type: \"primary\",\n            tertiary: true,\n            size: \"small\",\n            onClick: () => play(row),\n          },\n          { default: () => \"Play\" }\n        );\n      },\n    },\n  ];\n};\n\nexport default defineComponent({\n  components: { VueEditor,agile: VueAgile },\n  \n  setup() {\n    const message = useMessage();\n    const formRef = ref(null);\n    const rPasswordFormItemRef = ref(null);\n    const modelRef = ref({});\n\n    return {\n      async beforeUpload({ file }) {\n        if (file.file.type !== \"image/png\") {\n          message.error(\"只能上传png格式的图片文件，请重新上传\");\n          return false;\n        }\n        return true;\n      },\n      showModal: ref(false),\n      columns: createColumns({\n        play(row) {\n          this.showModal = true;\n          message.info(`Play ${row.product_id}`);\n        },\n      }),\n      pagination: { pageSize: 10 },\n      formRef,\n      rPasswordFormItemRef,\n      model: modelRef,\n      rules: {},\n    };\n  },\n  data() {\n    return {\n      content: \"<h1>Some initial content</h1>\",\n      productlist: [],\n    };\n  },\n  mounted() {\n    fetch(\"http://127.0.0.1/api/getproductlist\", {\n      method: \"get\",\n    })\n      .then((data) => {\n        return data.json();\n      })\n      .then((ret) => {\n        this.productlist = ret.productlist;\n      });\n  },\n});\n</script>"]}]}