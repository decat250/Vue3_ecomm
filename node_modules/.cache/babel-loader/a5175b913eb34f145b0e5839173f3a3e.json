{"remainingRequest":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js!/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Vue3_ecomm/src/views/adm/product.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/decat/Vue3_ecomm/src/views/adm/product.vue","mtime":1645708760700},{"path":"/Users/decat/Vue3_ecomm/babel.config.js","mtime":1645696101737},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js","mtime":1645696104065},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js","mtime":1645696107319}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcmVmIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgVnVlRWRpdG9yIH0gZnJvbSAidnVlMy1lZGl0b3IiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgImJvb3RzdHJhcC9kaXN0L2Nzcy9ib290c3RyYXAubWluLmNzcyI7CmltcG9ydCAianF1ZXJ5L2Rpc3QvanF1ZXJ5Lm1pbi5qcyI7CmltcG9ydCAiZGF0YXRhYmxlcy5uZXQtZHQvanMvZGF0YVRhYmxlcy5kYXRhVGFibGVzIjsKaW1wb3J0ICJkYXRhdGFibGVzLm5ldC1kdC9jc3MvanF1ZXJ5LmRhdGFUYWJsZXMubWluLmNzcyI7CmltcG9ydCAkIGZyb20gImpxdWVyeSI7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgVnVlRWRpdG9yOiBWdWVFZGl0b3IKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIGZvcm1SZWYgPSByZWYobnVsbCk7CiAgICB2YXIgclBhc3N3b3JkRm9ybUl0ZW1SZWYgPSByZWYobnVsbCk7CiAgICB2YXIgbW9kZWxSZWYgPSByZWYoe30pOwogICAgZmV0Y2goImh0dHA6Ly8xMjcuMC4wLjEvYXBpL2dldHByb2R1Y3RsaXN0IiwgewogICAgICBtZXRob2Q6ICJnZXQiCiAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBkYXRhLmpzb24oKTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJldCkgewogICAgICBfdGhpcy5wcm9kdWN0bGlzdCA9IHJldC5wcm9kdWN0bGlzdDsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgc2hvd01vZGFsOiByZWYoZmFsc2UpLAogICAgICBwYWdpbmF0aW9uOiB7CiAgICAgICAgcGFnZVNpemU6IDEwCiAgICAgIH0sCiAgICAgIGZvcm1SZWY6IGZvcm1SZWYsCiAgICAgIHJQYXNzd29yZEZvcm1JdGVtUmVmOiByUGFzc3dvcmRGb3JtSXRlbVJlZiwKICAgICAgbW9kZWw6IG1vZGVsUmVmLAogICAgICBydWxlczoge30KICAgIH07CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdGxpc3Q6IFtdLAogICAgICBwcmV2aWV3OiAiIiwKICAgICAgaW1hZ2VfbGlzdDogW10sCiAgICAgIHByZXZpZXdfbGlzdDogW10sCiAgICAgIHByb2R1Y3RfY291bnQ6IDAsCiAgICAgIHByb2R1Y3RfcHJpY2U6IDAsCiAgICAgIHByb2R1Y3RfbmFtZTogIjEiLAogICAgICBwcm9kdWN0X2Rlc2NyaWJlOiAiPGgxPlNvbWUgaW5pdGlhbCBjb250ZW50PC9oMT4iCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHZhciBwcm94eSA9IHRoaXM7CiAgICB2YXIgdGFibGUgPSAkKCIjZXhhbXBsZSIpLkRhdGFUYWJsZSh7CiAgICAgIGFqYXg6ICJodHRwczovL2RhdGF0YWJsZXMubmV0L2V4YW1wbGVzL2FqYXgvZGF0YS9hcnJheXMudHh0P189MTY0NTcwNTUxMjczOCIsCiAgICAgIGNvbHVtbkRlZnM6IFt7CiAgICAgICAgdGFyZ2V0czogLTEsCiAgICAgICAgZGF0YTogbnVsbCwKICAgICAgICBkZWZhdWx0Q29udGVudDogIjxidXR0b24+Q2xpY2shPC9idXR0b24+IgogICAgICB9XQogICAgfSk7CiAgICAkKCIjZXhhbXBsZSB0Ym9keSIpLm9uKCJjbGljayIsICJidXR0b24iLCBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnNvbGUubG9nKHByb3h5KTsKICAgICAgdmFyIGRhdGEgPSB0YWJsZS5yb3coJCh0aGlzKS5wYXJlbnRzKCJ0ciIpKS5kYXRhKCk7CiAgICAgIGFsZXJ0KGRhdGFbMF0gKyAiJ3Mgc2FsYXJ5IGlzOiAiICsgZGF0YVsyXSk7CiAgICB9KTsKICAgIGZldGNoKCJodHRwOi8vMTI3LjAuMC4xL2FwaS9nZXRwcm9kdWN0bGlzdCIsIHsKICAgICAgbWV0aG9kOiAiZ2V0IgogICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gZGF0YS5qc29uKCk7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXQpIHsKICAgICAgX3RoaXMyLnByb2R1Y3RsaXN0ID0gcmV0LnByb2R1Y3RsaXN0OwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWxldGVpbWc6IGZ1bmN0aW9uIGRlbGV0ZWltZyhpbmRleCkgewogICAgICB0aGlzLnByZXZpZXdfbGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB0aGlzLmltYWdlX2xpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICBwcmV2aWV3TXVsdGlJbWFnZTogZnVuY3Rpb24gcHJldmlld011bHRpSW1hZ2UoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvL3RoaXMuaW1hZ2VzQXJyYXkgPSBldmVudC50YXJnZXQuZmlsZXM7CiAgICAgIHZhciBpbnB1dCA9IGV2ZW50LnRhcmdldDsKICAgICAgdmFyIGNvdW50ID0gaW5wdXQuZmlsZXMubGVuZ3RoOwogICAgICB2YXIgaW5kZXggPSAwOwoKICAgICAgaWYgKGlucHV0LmZpbGVzKSB7CiAgICAgICAgd2hpbGUgKGNvdW50LS0pIHsKICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBfdGhpczMucHJldmlld19saXN0LnB1c2goZS50YXJnZXQucmVzdWx0KTsKICAgICAgICAgIH07CgogICAgICAgICAgdGhpcy5pbWFnZV9saXN0LnB1c2goaW5wdXQuZmlsZXNbaW5kZXhdKTsKICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGlucHV0LmZpbGVzW2luZGV4XSk7CiAgICAgICAgICBpbmRleCsrOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG5ld3Byb2R1Y3Q6IGZ1bmN0aW9uIG5ld3Byb2R1Y3QoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaW1hZ2VfbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaW1hZ2VfbGlzdFtpXSk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlW10iLCB0aGlzLmltYWdlX2xpc3RbaV0pOwogICAgICB9CgogICAgICBmb3JtRGF0YS5hcHBlbmQoInByb2R1Y3RfY291bnQiLCB0aGlzLnByb2R1Y3RfY291bnQpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoInByb2R1Y3RfbmFtZSIsIHRoaXMucHJvZHVjdF9uYW1lKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJwcm9kdWN0X2Rlc2NyaWJlIiwgdGhpcy5wcm9kdWN0X2Rlc2NyaWJlKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJwcm9kdWN0X3ByaWNlIiwgdGhpcy5wcm9kdWN0X3ByaWNlKTsKICAgICAgY29uc29sZS5sb2coZm9ybURhdGEpOwogICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0L2FwaS9uZXdwcm9kdWN0IiwgZm9ybURhdGEsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuU3RhdHVzID09ICJTdWNjZXNzIikgewogICAgICAgICAgX3RoaXM0LnNob3dNb2RhbCA9IGZhbHNlOwogICAgICAgICAgX3RoaXM0LnByb2R1Y3RfY291bnQgPSAiIjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfSk7"},{"version":3,"mappings":";;AA6IA,SAASA,eAAT,EAA0BC,GAA1B,QAAqC,KAArC;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,sCAAP;AACA,OAAO,2BAAP;AACA,OAAO,4CAAP;AACA,OAAO,iDAAP;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,eAAeJ,eAAe,CAAC;AAC7BK,YAAU,EAAE;AAAEH,aAAQ,EAARA;AAAF,GADiB;AAG7BI,OAH6B,mBAGrB;AAAA;;AACN,QAAMC,OAAM,GAAIN,GAAG,CAAC,IAAD,CAAnB;AACA,QAAMO,oBAAmB,GAAIP,GAAG,CAAC,IAAD,CAAhC;AACA,QAAMQ,QAAO,GAAIR,GAAG,CAAC,EAAD,CAApB;AACAS,SAAK,CAAC,qCAAD,EAAwC;AAC3CC,YAAM,EAAE;AADmC,KAAxC,CAAL,CAGGC,IAHH,CAGQ,UAACC,IAAD,EAAU;AACd,aAAOA,IAAI,CAACC,IAAL,EAAP;AACD,KALH,EAMGF,IANH,CAMQ,UAACG,GAAD,EAAS;AACb,WAAI,CAACC,WAAL,GAAmBD,GAAG,CAACC,WAAvB;AACD,KARH;AAUA,WAAO;AACLC,eAAS,EAAEhB,GAAG,CAAC,KAAD,CADT;AAGLiB,gBAAU,EAAE;AAAEC,gBAAQ,EAAE;AAAZ,OAHP;AAILZ,aAAO,EAAPA,OAJK;AAKLC,0BAAoB,EAApBA,oBALK;AAMLY,WAAK,EAAEX,QANF;AAOLY,WAAK,EAAE;AAPF,KAAP;AAWD,GA5B4B;AA6B7BR,MA7B6B,kBA6BtB;AACL,WAAO;AACLG,iBAAW,EAAE,EADR;AAELM,aAAO,EAAE,EAFJ;AAGLC,gBAAU,EAAE,EAHP;AAILC,kBAAY,EAAE,EAJT;AAMLC,mBAAa,EAAC,CANT;AAOLC,mBAAa,EAAC,CAPT;AAQLC,kBAAY,EAAC,GARR;AASLC,sBAAgB,EAAC;AATZ,KAAP;AAWD,GAzC4B;AA0C7BC,SA1C6B,qBA0CnB;AAAA;;AACR,QAAIC,KAAI,GAAI,IAAZ;AACA,QAAIC,KAAI,GAAI3B,CAAC,CAAC,UAAD,CAAD,CAAc4B,SAAd,CAAwB;AAClCC,UAAI,EAAE,sEAD4B;AAElCC,gBAAU,EAAE,CACV;AACEC,eAAO,EAAE,CAAC,CADZ;AAEEtB,YAAI,EAAE,IAFR;AAGEuB,sBAAc,EAAE;AAHlB,OADU;AAFsB,KAAxB,CAAZ;AAWAhC,KAAC,CAAC,gBAAD,CAAD,CAAoBiC,EAApB,CAAuB,OAAvB,EAAgC,QAAhC,EAA0C,YAAY;AACpDC,aAAO,CAACC,GAAR,CAAYT,KAAZ;AACA,UAAIjB,IAAG,GAAIkB,KAAK,CAACS,GAAN,CAAUpC,CAAC,CAAC,IAAD,CAAD,CAAQqC,OAAR,CAAgB,IAAhB,CAAV,EAAiC5B,IAAjC,EAAX;AACA6B,WAAK,CAAC7B,IAAI,CAAC,CAAD,CAAJ,GAAU,gBAAV,GAA6BA,IAAI,CAAC,CAAD,CAAlC,CAAL;AACD,KAJD;AAMAH,SAAK,CAAC,qCAAD,EAAwC;AAC3CC,YAAM,EAAE;AADmC,KAAxC,CAAL,CAGGC,IAHH,CAGQ,UAACC,IAAD,EAAU;AACd,aAAOA,IAAI,CAACC,IAAL,EAAP;AACD,KALH,EAMGF,IANH,CAMQ,UAACG,GAAD,EAAS;AACb,YAAI,CAACC,WAAL,GAAmBD,GAAG,CAACC,WAAvB;AACD,KARH;AASD,GAtE4B;AAuE7B2B,SAAO,EAAE;AACPC,aADO,qBACGC,KADH,EACU;AACf,WAAKrB,YAAL,CAAkBsB,MAAlB,CAAyBD,KAAzB,EAAgC,CAAhC;AACA,WAAKtB,UAAL,CAAgBuB,MAAhB,CAAuBD,KAAvB,EAA8B,CAA9B;AACD,KAJM;AAKPE,qBAAiB,EAAE,2BAAUC,KAAV,EAAiB;AAAA;;AAClC;AAEA,UAAIC,KAAI,GAAID,KAAK,CAACE,MAAlB;AACA,UAAIC,KAAI,GAAIF,KAAK,CAACG,KAAN,CAAYC,MAAxB;AACA,UAAIR,KAAI,GAAI,CAAZ;;AAEA,UAAII,KAAK,CAACG,KAAV,EAAiB;AACf,eAAOD,KAAK,EAAZ,EAAgB;AACd,cAAIG,MAAK,GAAI,IAAIC,UAAJ,EAAb;;AACAD,gBAAM,CAACE,MAAP,GAAgB,UAACC,CAAD,EAAO;AACrB,kBAAI,CAACjC,YAAL,CAAkBkC,IAAlB,CAAuBD,CAAC,CAACP,MAAF,CAASS,MAAhC;AACD,WAFD;;AAGA,eAAKpC,UAAL,CAAgBmC,IAAhB,CAAqBT,KAAK,CAACG,KAAN,CAAYP,KAAZ,CAArB;AACAS,gBAAM,CAACM,aAAP,CAAqBX,KAAK,CAACG,KAAN,CAAYP,KAAZ,CAArB;AACAA,eAAK;AACP;AACF;AACD,KAvBM;AAwBPgB,cAxBO,wBAwBM;AAAA;;AACX,UAAMC,QAAO,GAAI,IAAIC,QAAJ,EAAjB;;AAEA,WAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,KAAKzC,UAAL,CAAgB8B,MAApC,EAA4CW,CAAC,EAA7C,EAAiD;AAC/C1B,eAAO,CAACC,GAAR,CAAY,KAAKhB,UAAL,CAAgByC,CAAhB,CAAZ;AACAF,gBAAQ,CAACG,MAAT,CAAgB,QAAhB,EAA0B,KAAK1C,UAAL,CAAgByC,CAAhB,CAA1B;AACF;;AAEAF,cAAQ,CAACG,MAAT,CAAgB,eAAhB,EAAiC,KAAKxC,aAAtC;AACAqC,cAAQ,CAACG,MAAT,CAAgB,cAAhB,EAA+B,KAAKtC,YAApC;AACAmC,cAAQ,CAACG,MAAT,CAAgB,kBAAhB,EAAmC,KAAKrC,gBAAxC;AACAkC,cAAQ,CAACG,MAAT,CAAgB,eAAhB,EAAgC,KAAKvC,aAArC;AAEAY,aAAO,CAACC,GAAR,CAAYuB,QAAZ;AACA3D,WAAI,CACD+D,IADH,CACQ,iCADR,EAC2CJ,QAD3C,EACqD,EADrD,EAEGlD,IAFH,CAEQ,UAACuD,GAAD,EAAS;AACb,YAAIA,GAAG,CAACtD,IAAJ,CAASuD,MAAT,IAAiB,SAArB,EACA;AACE,gBAAI,CAACnD,SAAL,GAAiB,KAAjB;AACA,gBAAI,CAACQ,aAAL,GAAmB,EAAnB;AACF;AAED,OATH;AAUD;AAhDM;AAvEoB,CAAD,CAA9B","names":["defineComponent","ref","VueEditor","axios","$","components","setup","formRef","rPasswordFormItemRef","modelRef","fetch","method","then","data","json","ret","productlist","showModal","pagination","pageSize","model","rules","preview","image_list","preview_list","product_count","product_price","product_name","product_describe","mounted","proxy","table","DataTable","ajax","columnDefs","targets","defaultContent","on","console","log","row","parents","alert","methods","deleteimg","index","splice","previewMultiImage","event","input","target","count","files","length","reader","FileReader","onload","e","push","result","readAsDataURL","newproduct","formData","FormData","i","append","post","res","Status"],"sourceRoot":"","sources":["/Users/decat/Vue3_ecomm/src/views/adm/product.vue"],"sourcesContent":["<template>\n  商品管理\n  <n-button type=\"primary\" @click=\"showModal = true\"> 新增商品 </n-button>\n  <table class=\"table table-hover table-bordered\" id=\"example\">\n    <thead>\n      <tr>\n        <th>ID</th>\n        <th>Name</th>\n        <th>Email</th>\n        <th>Job Title</th>\n      </tr>\n    </thead>\n    <tbody>\n      <td>d</td>\n      <td>d</td>\n      <td>d</td>\n      <td>s</td>\n     \n    </tbody>\n  </table>\n  <n-modal v-model:show=\"showModal\">\n    <n-card\n      style=\"width: 600px\"\n      title=\"Modal\"\n      :bordered=\"false\"\n      size=\"huge\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n    >\n      <n-form :model=\"model\" ref=\"formRef\" :rules=\"rules\">\n        <n-form-item path=\"\" label=\"商品名稱\">\n          <n-input\n            placeholder=\"請輸入商品名稱\"\n            clearable\n            v-model:value=\"product_name\"\n            type=\"\"\n          />\n        </n-form-item>\n        {{ fileList }}\n        <div class=\"row\">\n          <n-form-item class=\"col-6\" path=\"\" label=\"價格\">\n            <n-input-number\n              v-model:value=\"product_price\"\n              placeholder=\"請輸入商品價格\"\n              clearable\n            />\n          </n-form-item>\n\n          <n-form-item class=\"col-6\" path=\"product_count\" label=\"數量\">\n            <n-input-number\n              placeholder=\"請輸入商品數量\"\n              v-model:value=\"product_count\"\n              clearable\n            />\n          </n-form-item>\n        </div>\n        <hr />\n\n        <input\n          type=\"file\"\n          accept=\"image/*\"\n          multiple\n          @change=\"previewMultiImage\"\n          class=\"form-control-file\"\n          id=\"my-file\"\n          ref=\"fileInput\"\n          style=\"display: none\"\n        />\n        <n-button\n          type=\"primary\"\n          onclick=\"document.getElementById('my-file').click();\"\n          >瀏覽檔案\n        </n-button>\n\n        <div class=\"container testimonial-group\" style=\"margin-top: 10px\">\n          <div class=\"row text-center\">\n            <div\n              class=\"col-4\"\n              v-for=\"(item, index) in preview_list\"\n              :key=\"index\"\n            >\n              <img\n                :src=\"item\"\n                class=\"img-fluid\"\n                v-on:click=\"clicking($event)\"\n                style=\"max-width: 100px\"\n              />\n\n              <n-button type=\"error\" v-on:click=\"deleteimg(index)\">\n                刪除\n              </n-button>\n            </div>\n          </div>\n        </div>\n\n        <hr />\n        商品描述\n        <vue-editor v-model=\"product_describe\" />\n\n        <n-button type=\"primary\" @click=\"newproduct()\" block secondary strong\n          >新增商品\n        </n-button>\n\n        <n-modal\n          v-model:show=\"showpicModal\"\n          preset=\"card\"\n          style=\"width: 600px\"\n          title=\"\"\n        >\n          <img :src=\"previewImageUrl\" style=\"width: 100%\" />\n        </n-modal>\n      </n-form>\n    </n-card>\n  </n-modal>\n</template>\n<style>\n.testimonial-group > .row {\n  display: block;\n  overflow-x: auto;\n  white-space: nowrap;\n}\n.testimonial-group > .row > .col-4 {\n  display: inline-block;\n}\n.btn-file input[type=\"file\"] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  min-width: 100%;\n  min-height: 100%;\n  font-size: 100px;\n  text-align: right;\n  filter: alpha(opacity=0);\n  opacity: 0;\n  outline: none;\n  background: white;\n  cursor: inherit;\n  display: block;\n}\n</style>\n<script>\nimport { defineComponent, ref } from \"vue\";\nimport { VueEditor } from \"vue3-editor\";\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"jquery/dist/jquery.min.js\";\nimport \"datatables.net-dt/js/dataTables.dataTables\";\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\";\nimport $ from \"jquery\";\nexport default defineComponent({\n  components: { VueEditor },\n\n  setup() {\n    const formRef = ref(null);\n    const rPasswordFormItemRef = ref(null);\n    const modelRef = ref({});\n    fetch(\"http://127.0.0.1/api/getproductlist\", {\n      method: \"get\",\n    })\n      .then((data) => {\n        return data.json();\n      })\n      .then((ret) => {\n        this.productlist = ret.productlist;\n      });\n\n    return {\n      showModal: ref(false),\n\n      pagination: { pageSize: 10 },\n      formRef,\n      rPasswordFormItemRef,\n      model: modelRef,\n      rules: {},\n\n\n    };\n  },\n  data() {\n    return {\n      productlist: [],\n      preview: \"\",\n      image_list: [],\n      preview_list: [],\n\n      product_count:0,\n      product_price:0,\n      product_name:\"1\",\n      product_describe:\"<h1>Some initial content</h1>\"\n    };\n  },\n  mounted() {\n    let proxy = this;\n    var table = $(\"#example\").DataTable({\n      ajax: \"https://datatables.net/examples/ajax/data/arrays.txt?_=1645705512738\",\n      columnDefs: [\n        {\n          targets: -1,\n          data: null,\n          defaultContent: \"<button>Click!</button>\",\n        },\n      ],\n    });\n\n    $(\"#example tbody\").on(\"click\", \"button\", function () {\n      console.log(proxy)\n      var data = table.row($(this).parents(\"tr\")).data();\n      alert(data[0] + \"'s salary is: \" + data[2]);\n    });\n\n    fetch(\"http://127.0.0.1/api/getproductlist\", {\n      method: \"get\",\n    })\n      .then((data) => {\n        return data.json();\n      })\n      .then((ret) => {\n        this.productlist = ret.productlist;\n      });\n  },\n  methods: {\n    deleteimg(index) {\n      this.preview_list.splice(index, 1);\n      this.image_list.splice(index, 1);\n    },\n    previewMultiImage: function (event) {\n      //this.imagesArray = event.target.files;\n\n      var input = event.target;\n      var count = input.files.length;\n      var index = 0;\n\n      if (input.files) {\n        while (count--) {\n          var reader = new FileReader();\n          reader.onload = (e) => {\n            this.preview_list.push(e.target.result);\n          };\n          this.image_list.push(input.files[index]);\n          reader.readAsDataURL(input.files[index]);\n          index++;\n        }\n      }\n    },\n    newproduct() {\n      const formData = new FormData();\n\n      for (var i = 0; i < this.image_list.length; i++) {\n        console.log(this.image_list[i]);\n        formData.append(\"file[]\", this.image_list[i]);\n      }\n      \n      formData.append(\"product_count\", this.product_count);\n      formData.append(\"product_name\",this.product_name)\n      formData.append(\"product_describe\",this.product_describe)\n      formData.append(\"product_price\",this.product_price)\n\n      console.log(formData);\n      axios\n        .post(\"http://localhost/api/newproduct\", formData, {})\n        .then((res) => {\n          if (res.data.Status==\"Success\")\n          {\n            this.showModal = false;\n            this.product_count=\"\"\n          }\n          \n        });\n    },\n  },\n});\n</script>"]}]}