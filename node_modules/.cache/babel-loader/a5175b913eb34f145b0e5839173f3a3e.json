{"remainingRequest":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js!/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Vue3_ecomm/src/views/adm/product.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/decat/Vue3_ecomm/src/views/adm/product.vue","mtime":1645756876578},{"path":"/Users/decat/Vue3_ecomm/babel.config.js","mtime":1645696101737},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js","mtime":1645696104065},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js","mtime":1645696107319}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWYgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyBWdWVFZGl0b3IgfSBmcm9tICJ2dWUzLWVkaXRvciI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCAiYm9vdHN0cmFwL2Rpc3QvY3NzL2Jvb3RzdHJhcC5taW4uY3NzIjsKaW1wb3J0ICJqcXVlcnkvZGlzdC9qcXVlcnkubWluLmpzIjsKaW1wb3J0ICJkYXRhdGFibGVzLm5ldC1kdC9qcy9kYXRhVGFibGVzLmRhdGFUYWJsZXMiOwppbXBvcnQgImRhdGF0YWJsZXMubmV0LWR0L2Nzcy9qcXVlcnkuZGF0YVRhYmxlcy5taW4uY3NzIjsKaW1wb3J0ICQgZnJvbSAianF1ZXJ5IjsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBWdWVFZGl0b3I6IFZ1ZUVkaXRvcgogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIGZvcm1SZWYgPSByZWYobnVsbCk7CiAgICB2YXIgclBhc3N3b3JkRm9ybUl0ZW1SZWYgPSByZWYobnVsbCk7CiAgICB2YXIgbW9kZWxSZWYgPSByZWYoe30pOwogICAgcmV0dXJuIHsKICAgICAgc2hvd01vZGFsOiByZWYoZmFsc2UpLAogICAgICBzaG93RGVsZXRlTW9kYWxSZWY6IHJlZihmYWxzZSksCiAgICAgIHBhZ2luYXRpb246IHsKICAgICAgICBwYWdlU2l6ZTogMTAKICAgICAgfSwKICAgICAgZm9ybVJlZjogZm9ybVJlZiwKICAgICAgclBhc3N3b3JkRm9ybUl0ZW1SZWY6IHJQYXNzd29yZEZvcm1JdGVtUmVmLAogICAgICBtb2RlbDogbW9kZWxSZWYsCiAgICAgIHJ1bGVzOiB7fQogICAgfTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcm9kdWN0bGlzdDogW10sCiAgICAgIHByZXZpZXc6ICIiLAogICAgICBpbWFnZV9saXN0OiBbXSwKICAgICAgcHJldmlld19saXN0OiBbXSwKICAgICAgcHJvZHVjdF9jb3VudDogMCwKICAgICAgcHJvZHVjdF9wcmljZTogMCwKICAgICAgcHJvZHVjdF9uYW1lOiAiMSIsCiAgICAgIHByb2R1Y3RfZGVzY3JpYmU6ICI8aDE+U29tZSBpbml0aWFsIGNvbnRlbnQ8L2gxPiIsCiAgICAgIGVkaXRpZDogMAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgdGFibGUgPSAkKCIjZXhhbXBsZSIpLkRhdGFUYWJsZSh7CiAgICAgIGFqYXg6ICJodHRwOi8vbG9jYWxob3N0L2FwaS9wcm9kdWN0YWRtZ2V0bGlzdCIsCiAgICAgIGNvbHVtbkRlZnM6IFt7CiAgICAgICAgdGFyZ2V0czogWzBdLAogICAgICAgIHZpc2libGU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICB0YXJnZXRzOiBbMV0KICAgICAgfSwgewogICAgICAgIHRhcmdldHM6IFsyXQogICAgICB9LCB7CiAgICAgICAgdGFyZ2V0czogWzNdCiAgICAgIH0sIHsKICAgICAgICB0YXJnZXRzOiBbNF0sCiAgICAgICAgZGVmYXVsdENvbnRlbnQ6ICI8YnV0dG9uIGlkPSdlZGl0Jz7nt6jovK88L2J1dHRvbj48YnV0dG9uIGlkPSdkZWwnPuWIqumZpDwvYnV0dG9uPiIKICAgICAgfV0KICAgIH0pOwogICAgdmFyIHByb3h5ID0gdGhpczsKICAgICQoIiNleGFtcGxlIHRib2R5Iikub24oImNsaWNrIiwgImJ1dHRvbiIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGRhdGEgPSB0YWJsZS5yb3coJCh0aGlzKS5wYXJlbnRzKCJ0ciIpKS5kYXRhKCk7CgogICAgICBpZiAoJCh0aGlzKS5hdHRyKCJpZCIpID09ICJkZWwiKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRlbGV0ZWJ0biIpLmNsaWNrKCk7CiAgICAgICAgcHJveHkuZWRpdGlkID0gZGF0YVswXTsKICAgICAgfSAvL2NvbnNvbGUubG9nKGRhdGFbMF0gKyAiJ3Mgc2FsYXJ5IGlzOiAiICsgZGF0YVsyXSk7CgogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblBvc2l0aXZlQ2xpY2s6IGZ1bmN0aW9uIG9uUG9zaXRpdmVDbGljaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vd2luZG93LiRtZXNzYWdlLnN1Y2Nlc3MoInN1Ym1pdCIpOwogICAgICAvL2NvbnNvbGUubG9nKHByb3h5LmVkaXRpZCk7CiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoImRlbGV0ZWlkIiwgdGhpcy5lZGl0aWQpOwogICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0L2FwaS9kZWxwcm9kdWN0IiwgZm9ybURhdGEsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuU3RhdHVzID09ICJTdWNjZXNzIikgewogICAgICAgICAgd2luZG93LiRtZXNzYWdlLnN1Y2Nlc3MocmVzLmRhdGEuTWVzc2FnZSk7CiAgICAgICAgICAkKCIjZXhhbXBsZSIpLkRhdGFUYWJsZSgpLmFqYXgucmVsb2FkKCk7CiAgICAgICAgICBfdGhpcy5zaG93RGVsZXRlTW9kYWxSZWYgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uTmVnYXRpdmVDbGljazogZnVuY3Rpb24gb25OZWdhdGl2ZUNsaWNrKCkgewogICAgICB0aGlzLnNob3dEZWxldGVNb2RhbFJlZiA9IGZhbHNlOwogICAgfSwKICAgIGRlbGV0ZWltZzogZnVuY3Rpb24gZGVsZXRlaW1nKGluZGV4KSB7CiAgICAgIHRoaXMucHJldmlld19saXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMuaW1hZ2VfbGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIHByZXZpZXdNdWx0aUltYWdlOiBmdW5jdGlvbiBwcmV2aWV3TXVsdGlJbWFnZShldmVudCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vdGhpcy5pbWFnZXNBcnJheSA9IGV2ZW50LnRhcmdldC5maWxlczsKICAgICAgdmFyIGlucHV0ID0gZXZlbnQudGFyZ2V0OwogICAgICB2YXIgY291bnQgPSBpbnB1dC5maWxlcy5sZW5ndGg7CiAgICAgIHZhciBpbmRleCA9IDA7CgogICAgICBpZiAoaW5wdXQuZmlsZXMpIHsKICAgICAgICB3aGlsZSAoY291bnQtLSkgewogICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIF90aGlzMi5wcmV2aWV3X2xpc3QucHVzaChlLnRhcmdldC5yZXN1bHQpOwogICAgICAgICAgfTsKCiAgICAgICAgICB0aGlzLmltYWdlX2xpc3QucHVzaChpbnB1dC5maWxlc1tpbmRleF0pOwogICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbaW5kZXhdKTsKICAgICAgICAgIGluZGV4Kys7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgbmV3cHJvZHVjdDogZnVuY3Rpb24gbmV3cHJvZHVjdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pbWFnZV9saXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5pbWFnZV9saXN0W2ldKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGVbXSIsIHRoaXMuaW1hZ2VfbGlzdFtpXSk7CiAgICAgIH0KCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgicHJvZHVjdF9jb3VudCIsIHRoaXMucHJvZHVjdF9jb3VudCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgicHJvZHVjdF9uYW1lIiwgdGhpcy5wcm9kdWN0X25hbWUpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoInByb2R1Y3RfZGVzY3JpYmUiLCB0aGlzLnByb2R1Y3RfZGVzY3JpYmUpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoInByb2R1Y3RfcHJpY2UiLCB0aGlzLnByb2R1Y3RfcHJpY2UpOwogICAgICBjb25zb2xlLmxvZyhmb3JtRGF0YSk7CiAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3QvYXBpL25ld3Byb2R1Y3QiLCBmb3JtRGF0YSwge30pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5TdGF0dXMgPT0gIlN1Y2Nlc3MiKSB7CiAgICAgICAgICBfdGhpczMuc2hvd01vZGFsID0gZmFsc2U7CiAgICAgICAgICBfdGhpczMuaW1hZ2VfbGlzdCA9IFtdOwogICAgICAgICAgX3RoaXMzLnByZXZpZXdfbGlzdCA9IFtdOwogICAgICAgICAgX3RoaXMzLnByb2R1Y3RfY291bnQgPSAwOwogICAgICAgICAgX3RoaXMzLnByb2R1Y3RfbmFtZSA9ICIiOwogICAgICAgICAgX3RoaXMzLnByb2R1Y3RfZGVzY3JpYmUgPSAiIjsKICAgICAgICAgIF90aGlzMy5wcm9kdWN0X3ByaWNlID0gd2luZG93LiRtZXNzYWdlLnN1Y2Nlc3MocmVzLmRhdGEuTWVzc2FnZSk7CiAgICAgICAgICAkKCIjZXhhbXBsZSIpLkRhdGFUYWJsZSgpLmFqYXgucmVsb2FkKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"mappings":"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","names":["defineComponent","ref","VueEditor","axios","$","components","setup","formRef","rPasswordFormItemRef","modelRef","showModal","showDeleteModalRef","pagination","pageSize","model","rules","data","productlist","preview","image_list","preview_list","product_count","product_price","product_name","product_describe","editid","mounted","table","DataTable","ajax","columnDefs","targets","visible","defaultContent","proxy","on","row","parents","attr","document","getElementById","click","methods","onPositiveClick","formData","FormData","append","post","then","res","Status","window","$message","success","Message","reload","onNegativeClick","deleteimg","index","splice","previewMultiImage","event","input","target","count","files","length","reader","FileReader","onload","e","push","result","readAsDataURL","newproduct","i","console","log"],"sourceRoot":"","sources":["/Users/decat/Vue3_ecomm/src/views/adm/product.vue"],"sourcesContent":["<template>\n  商品管理\n  <n-button type=\"primary\" @click=\"showModal = true\"> 新增商品 </n-button>\n  <table class=\"table table-hover table-bordered\" id=\"example\">\n    <thead>\n      <tr>\n        <th>ID</th>\n        <th>名稱</th>\n        <th>價格</th>\n        <th>數量</th>\n        <th>操作</th>\n      </tr>\n    </thead>\n    <tbody></tbody>\n  </table>\n  <n-button\n    id=\"deletebtn\"\n    style=\"display: None\"\n    @click=\"showDeleteModalRef = true\"\n    >123</n-button\n  >\n  <n-modal v-model:show=\"showModal\">\n    <n-card\n      style=\"width: 600px\"\n      title=\"Modal\"\n      :bordered=\"false\"\n      size=\"huge\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n    >\n      <n-form :model=\"model\" ref=\"formRef\" :rules=\"rules\">\n        <n-form-item path=\"\" label=\"商品名稱\">\n          <n-input\n            placeholder=\"請輸入商品名稱\"\n            clearable\n            v-model:value=\"product_name\"\n            type=\"\"\n          />\n        </n-form-item>\n        {{ fileList }}\n        <div class=\"row\">\n          <n-form-item class=\"col-6\" path=\"\" label=\"價格\">\n            <n-input-number\n              v-model:value=\"product_price\"\n              placeholder=\"請輸入商品價格\"\n              clearable\n            />\n          </n-form-item>\n\n          <n-form-item class=\"col-6\" path=\"product_count\" label=\"數量\">\n            <n-input-number\n              placeholder=\"請輸入商品數量\"\n              v-model:value=\"product_count\"\n              clearable\n            />\n          </n-form-item>\n        </div>\n        <hr />\n\n        <input\n          type=\"file\"\n          accept=\"image/*\"\n          multiple\n          @change=\"previewMultiImage\"\n          class=\"form-control-file\"\n          id=\"my-file\"\n          ref=\"fileInput\"\n          style=\"display: none\"\n        />\n        <n-button\n          type=\"primary\"\n          onclick=\"document.getElementById('my-file').click();\"\n          >瀏覽檔案\n        </n-button>\n\n        <div class=\"container testimonial-group\" style=\"margin-top: 10px\">\n          <div class=\"row text-center\">\n            <div\n              class=\"col-4\"\n              v-for=\"(item, index) in preview_list\"\n              :key=\"index\"\n            >\n              <img\n                :src=\"item\"\n                class=\"img-fluid\"\n                v-on:click=\"clicking($event)\"\n                style=\"max-width: 100px\"\n              />\n\n              <n-button type=\"error\" v-on:click=\"deleteimg(index)\">\n                刪除\n              </n-button>\n            </div>\n          </div>\n        </div>\n\n        <hr />\n        商品描述\n        <vue-editor v-model=\"product_describe\" />\n\n        <n-button type=\"primary\" @click=\"newproduct()\" block secondary strong\n          >新增商品\n        </n-button>\n\n        <n-modal\n          v-model:show=\"showpicModal\"\n          preset=\"card\"\n          style=\"width: 600px\"\n          title=\"\"\n        >\n          <img :src=\"previewImageUrl\" style=\"width: 100%\" />\n        </n-modal>\n      </n-form>\n    </n-card>\n  </n-modal>\n\n  <n-modal\n    v-model:show=\"showDeleteModalRef\"\n    :mask-closable=\"false\"\n    preset=\"dialog\"\n    title=\"確認視窗\"\n    content=\"您確定要刪除嗎?\"\n    positive-text=\"確定刪除\"\n    negative-text=\"取消\"\n    @positive-click=\"onPositiveClick\"\n    @negative-click=\"onNegativeClick\"\n    transform-origin=\"center\"\n  />\n</template>\n<style>\n.testimonial-group > .row {\n  display: block;\n  overflow-x: auto;\n  white-space: nowrap;\n}\n.testimonial-group > .row > .col-4 {\n  display: inline-block;\n}\n.btn-file input[type=\"file\"] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  min-width: 100%;\n  min-height: 100%;\n  font-size: 100px;\n  text-align: right;\n  filter: alpha(opacity=0);\n  opacity: 0;\n  outline: none;\n  background: white;\n  cursor: inherit;\n  display: block;\n}\n</style>\n<script>\nimport { defineComponent, ref } from \"vue\";\nimport { VueEditor } from \"vue3-editor\";\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"jquery/dist/jquery.min.js\";\nimport \"datatables.net-dt/js/dataTables.dataTables\";\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\";\nimport $ from \"jquery\";\nexport default defineComponent({\n  components: { VueEditor },\n\n  setup() {\n    const formRef = ref(null);\n    const rPasswordFormItemRef = ref(null);\n    const modelRef = ref({});\n\n    return {\n      showModal: ref(false),\n      showDeleteModalRef: ref(false),\n      pagination: { pageSize: 10 },\n      formRef,\n      rPasswordFormItemRef,\n      model: modelRef,\n      rules: {},\n    };\n  },\n  data() {\n    return {\n      productlist: [],\n      preview: \"\",\n      image_list: [],\n      preview_list: [],\n\n      product_count: 0,\n      product_price: 0,\n      product_name: \"1\",\n      product_describe: \"<h1>Some initial content</h1>\",\n\n      editid: 0,\n    };\n  },\n  mounted() {\n    var table = $(\"#example\").DataTable({\n      ajax: \"http://localhost/api/productadmgetlist\",\n      columnDefs: [\n        {\n          targets: [0],\n          visible: false,\n        },\n        {\n          targets: [1],\n        },\n        {\n          targets: [2],\n        },\n        {\n          targets: [3],\n        },\n        {\n          targets: [4],\n          defaultContent:\n            \"<button id='edit'>編輯</button><button id='del'>刪除</button>\",\n        },\n      ],\n    });\n    let proxy = this;\n    $(\"#example tbody\").on(\"click\", \"button\", function () {\n      var data = table.row($(this).parents(\"tr\")).data();\n      if ($(this).attr(\"id\") == \"del\") {\n        document.getElementById(\"deletebtn\").click();\n        proxy.editid = data[0];\n      }\n\n      //console.log(data[0] + \"'s salary is: \" + data[2]);\n    });\n  },\n  methods: {\n    onPositiveClick() {\n      //window.$message.success(\"submit\");\n      //console.log(proxy.editid);\n      const formData = new FormData();\n      formData.append(\"deleteid\", this.editid);\n      axios\n        .post(\"http://localhost/api/delproduct\", formData, {})\n        .then((res) => {\n          if (res.data.Status == \"Success\") {\n            window.$message.success(res.data.Message);\n            $(\"#example\").DataTable().ajax.reload();\n            this.showDeleteModalRef = false;\n          }\n        });\n    },\n    onNegativeClick() {\n      this.showDeleteModalRef = false;\n    },\n\n    deleteimg(index) {\n      this.preview_list.splice(index, 1);\n      this.image_list.splice(index, 1);\n    },\n    previewMultiImage: function (event) {\n      //this.imagesArray = event.target.files;\n\n      var input = event.target;\n      var count = input.files.length;\n      var index = 0;\n\n      if (input.files) {\n        while (count--) {\n          var reader = new FileReader();\n          reader.onload = (e) => {\n            this.preview_list.push(e.target.result);\n          };\n          this.image_list.push(input.files[index]);\n          reader.readAsDataURL(input.files[index]);\n          index++;\n        }\n      }\n    },\n    newproduct() {\n      const formData = new FormData();\n\n      for (var i = 0; i < this.image_list.length; i++) {\n        console.log(this.image_list[i]);\n        formData.append(\"file[]\", this.image_list[i]);\n      }\n\n      formData.append(\"product_count\", this.product_count);\n      formData.append(\"product_name\", this.product_name);\n      formData.append(\"product_describe\", this.product_describe);\n      formData.append(\"product_price\", this.product_price);\n\n      console.log(formData);\n      axios\n        .post(\"http://localhost/api/newproduct\", formData, {})\n        .then((res) => {\n          if (res.data.Status == \"Success\") {\n            this.showModal = false;\n            this.image_list = [];\n            this.preview_list = [];\n            this.product_count = 0;\n            this.product_name = \"\";\n            this.product_describe = \"\";\n            this.product_price = window.$message.success(res.data.Message);\n            $(\"#example\").DataTable().ajax.reload();\n          }\n        });\n    },\n  },\n});\n</script>"]}]}