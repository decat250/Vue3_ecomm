{"remainingRequest":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Vue3_ecomm/src/views/order.vue?vue&type=template&id=76a652b8","dependencies":[{"path":"/Users/decat/Vue3_ecomm/src/views/order.vue","mtime":1648555794599},{"path":"/Users/decat/Vue3_ecomm/babel.config.js","mtime":1645696101737},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js","mtime":1645696104065},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1645696107320},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js","mtime":1645696107319}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZyB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiY29udGFpbmVyIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBrZXk6IDAKfTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIiDku5jmrL4gIik7Cgp2YXIgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIg6KiC5Zau6LOH6KiKICIpOwoKdmFyIF9ob2lzdGVkXzUgPSB7CiAga2V5OiAxCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfbl9idXR0b24gPSBfcmVzb2x2ZUNvbXBvbmVudCgibi1idXR0b24iKTsKCiAgdmFyIF9jb21wb25lbnRfdnVlX2dvb2RfdGFibGUgPSBfcmVzb2x2ZUNvbXBvbmVudCgidnVlLWdvb2QtdGFibGUiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3Z1ZV9nb29kX3RhYmxlLCB7CiAgICAic2VhcmNoLW9wdGlvbnMiOiB7CiAgICAgIGVuYWJsZWQ6IHRydWUKICAgIH0sCiAgICBjb2x1bW5zOiBfY3R4LmNvbHVtbnMsCiAgICByb3dzOiBfY3R4LnJvd3MsCiAgICBwYWdpbmF0ZTogdHJ1ZSwKICAgIGxpbmVOdW1iZXJzOiB0cnVlLAogICAgZ2xvYmFsU2VhcmNoOiB0cnVlCiAgfSwgewogICAgInRhYmxlLXJvdyI6IF93aXRoQ3R4KGZ1bmN0aW9uIChwcm9wcykgewogICAgICByZXR1cm4gW3Byb3BzLmNvbHVtbi5maWVsZCA9PSAnZWRpdCcgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJzcGFuIiwgX2hvaXN0ZWRfMiwgW3Byb3BzLnJvdy5zdGF0dXMgPT0gJ+W+heS7mOasvicgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9uX2J1dHRvbiwgewogICAgICAgIGtleTogMCwKICAgICAgICB0eXBlOiAicHJpbWFyeSIsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICJtYXJnaW4tcmlnaHQiOiAiMTBweCIKICAgICAgICB9LAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gX2N0eC5wYXkocHJvcHMucm93Lm9yZGVyX2lkKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW19ob2lzdGVkXzNdOwogICAgICAgIH0pLAogICAgICAgIF86IDIKICAgICAgICAvKiBEWU5BTUlDICovCgogICAgICB9LCAxMDMyCiAgICAgIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovCiAgICAgICwgWyJvbkNsaWNrIl0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfbl9idXR0b24sIHsKICAgICAgICB0eXBlOiAicHJpbWFyeSIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBfY3R4LnJlZGlyZWN0KHByb3BzLnJvdy5vcmRlcl9pZCk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfaG9pc3RlZF80XTsKICAgICAgICB9KSwKICAgICAgICBfOiAyCiAgICAgICAgLyogRFlOQU1JQyAqLwoKICAgICAgfSwgMTAzMgogICAgICAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLwogICAgICAsIFsib25DbGljayJdKV0pKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInNwYW4iLCBfaG9pc3RlZF81LCBfdG9EaXNwbGF5U3RyaW5nKHByb3BzLmZvcm1hdHRlZFJvd1twcm9wcy5jb2x1bW4uZmllbGRdKSwgMQogICAgICAvKiBURVhUICovCiAgICAgICkpXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0sIDgKICAvKiBQUk9QUyAqLwogICwgWyJjb2x1bW5zIiwgInJvd3MiXSldKTsKfQ=="},{"version":3,"mappings":";;AACOA,OAAK,EAAC;;;;;;+CAiBF;;+CAI8D;;;;;;;;;;uBArBvEC,oBA+BM,KA/BN,cA+BM,CA9BJC,aA6BiBC,yBA7BjB,EA6BiB;AA5Bd,sBAAgB;AAAAC;AAAA,KA4BF;AA3BdC,WAAO,EAAEC,YA2BK;AA1BdC,QAAI,EAAED,SA0BQ;AAzBdE,YAAQ,EAAE,IAyBI;AAxBdC,eAAW,EAAE,IAwBC;AAvBdC,gBAAY,EAAE;AAuBA,GA7BjB;AAQa,iBAASC,SAElB,UAFoBC,KAEpB;AAAA,aAFyB,CAEbA,KAAK,CAACC,MAAN,CAAaC,KAAb,IAAkB,wBAA9Bb,oBAaO,MAbP,EAaOc,UAbP,EAaO,CATGH,KAAK,CAACI,GAAN,CAAUC,MAAV,IAAgB,uBAHxBC,aAOWC,mBAPX,EAOW;cAAA;AANTC,YAAI,EAAC,SAMI;AALTC,aAA0B,EAA1B;AAAA;AAAA,SAKS;AAHJC,eAAK;AAAA,iBAAEhB,SAAIM,KAAK,CAACI,GAAN,CAAUO,QAAd,CAAF;AAAA;AAGD,OAPX;0BAKC;AAAA,iBAED,YAFC;AAAA;;;;OALD;;AAAA,yDAYK,EAHLrB,aAEWiB,mBAFX,EAEW;AAFDC,YAAI,EAAC,SAEJ;AAFeE,eAAK;AAAA,iBAAEhB,cAASM,KAAK,CAACI,GAAN,CAAUO,QAAnB,CAAF;AAAA;AAEpB,OAFX;0BAA+D;AAAA,iBAE/D,YAF+D;AAAA;;;;OAA/D;;AAAA,oBAGK,CAbP,oBAeAtB,oBAEO,MAFP,EAEOuB,UAFP,EAEOC,iBADFb,KAAK,CAACc,YAAN,CAAmBd,KAAK,CAACC,MAAN,CAAaC,KAAhC,CACE,CAFP,EAC0C;AAAA;AAD1C,QAjByB,CAEzB;AAAA,KAFkB;;;;GARtB;;AAAA,wBA8BI,CA/BN","names":["class","_createElementBlock","_createVNode","_component_vue_good_table","enabled","columns","_ctx","rows","paginate","lineNumbers","globalSearch","_withCtx","props","column","field","_hoisted_2","row","status","_createBlock","_component_n_button","type","style","onClick","order_id","_hoisted_5","_toDisplayString","formattedRow"],"sourceRoot":"","sources":["/Users/decat/Vue3_ecomm/src/views/order.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <vue-good-table\n      :search-options=\"{ enabled: true }\"\n      :columns=\"columns\"\n      :rows=\"rows\"\n      :paginate=\"true\"\n      :lineNumbers=\"true\"\n      :globalSearch=\"true\"\n    >\n      <template #table-row=\"props\">\n        \n        <span v-if=\"props.column.field == 'edit'\">\n          <n-button\n            type=\"primary\"\n            style=\"margin-right: 10px\"\n            v-if=\"props.row.status == '待付款'\"\n            v-on:click=\"pay(props.row.order_id)\"\n          >\n            付款\n          </n-button>\n\n          <n-button type=\"primary\" @click=\"redirect(props.row.order_id)\">\n            訂單資訊\n          </n-button>\n        </span>\n\n        <span v-else>\n          {{ props.formattedRow[props.column.field] }}\n        </span>\n      </template>\n    </vue-good-table>\n  </div>\n</template>\n<script>\nimport { VueGoodTable } from \"vue-good-table-next\";\nimport \"vue-good-table-next/dist/vue-good-table-next.css\";\nimport axios from \"axios\";\nimport $ from \"jquery\";\nimport { defineComponent, ref } from \"vue\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"jquery/dist/jquery.min.js\";\nexport default defineComponent({\n  components: {\n    VueGoodTable,\n  },\n  data() {\n    return {\n      showModal: ref(false),\n      columns: [\n        {\n          label: \"訂單日期\",\n          field: \"order_time\",\n          dateInputFormat: 'yyyy-MM-dd\\'T\\'HH:mm:ss.SSSSSSXXX',\n          dateOutputFormat:'yyyy',\n          globalSearchDisabled: true,\n        },\n        {\n          label: \"訂購人姓名\",\n          field: \"user_name\",\n          tdClass: \"text-center\",\n          globalSearchDisabled: true,\n        },\n        {\n          label: \"總金額\",\n          field: \"order_total\",\n          type: \"number\",\n          tdClass: \"text-center\",\n          globalSearchDisabled: true,\n        },\n        {\n          label: \"訂單狀態\",\n          field: \"status\",\n          tdClass: \"text-center\",\n          globalSearchDisabled: true,\n        },\n        {\n          label: \"詳細資訊\",\n          field: \"edit\",\n          tdClass: \"text-center\",\n          globalSearchDisabled: true,\n        },\n      ],\n      rows: [],\n    };\n  },\n  setup() {},\n  mounted() {\n    axios\n      .get(\"http://localhost/api/getorder/\" + localStorage.getItem(\"id\"), {})\n      .then((res) => {\n        this.rows = res.data.data;\n      });\n  },\n  methods: {\n    \n    redirect(id) {\n      this.$router.push({ path: \"/order_item/\"+id });\n      console.log(id);\n    },\n    pay(id) {\n      var url = \"http://localhost/api/reorder\";\n      var form = $(\n        '<form style=\"display:none\" action=\"' +\n          url +\n          '\" method=\"post\">' +\n          '<input type=\"text\" name=\"order_id\" value=\"' +\n          id +\n          '\" />' +\n          \"</form>\"\n      );\n\n      $(\"body\").append(form);\n      form.submit();\n    },\n  },\n});\n</script>"]}]}