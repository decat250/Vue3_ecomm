{"remainingRequest":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Vue3_ecomm/src/views/Shopcart.vue?vue&type=template&id=2055fb60","dependencies":[{"path":"/Users/decat/Vue3_ecomm/src/views/Shopcart.vue","mtime":1645794416819},{"path":"/Users/decat/Vue3_ecomm/babel.config.js","mtime":1645696101737},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js","mtime":1645696104065},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1645696107320},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1645696104150},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js","mtime":1645696107319}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jayB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiY29udGFpbmVyIgp9OwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiIOizvOeJqei7iuWVhuWTgSAiKTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICBjbGFzczogInJvdyIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ0YWJsZSIsIHsKICBjbGFzczogInRhYmxlIHRhYmxlLWhvdmVyIHRhYmxlLWJvcmRlcmVkIiwKICBpZDogImV4YW1wbGUiCn0sIFsvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGhlYWQiLCBudWxsLCBbLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRyIiwgbnVsbCwgWy8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ0aCIsIG51bGwsICJJRCIpLCAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCBudWxsLCAi5ZCN56ixIiksIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ0aCIsIG51bGwsICLopo/moLwiKSwgLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRoIiwgbnVsbCwgIuWWruWDuSIpLCAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCBudWxsLCAi5pW46YePIiksIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ0aCIsIG51bGwsICLmk43kvZwiKV0pXSksIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ0Ym9keSIpXSldLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIg5YmN5b6A57WQ6LOsICIpOwoKdmFyIF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiMTIzIik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X25fYnV0dG9uID0gX3Jlc29sdmVDb21wb25lbnQoIm4tYnV0dG9uIik7CgogIHZhciBfY29tcG9uZW50X25fY2FyZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJuLWNhcmQiKTsKCiAgdmFyIF9jb21wb25lbnRfbl9tb2RhbCA9IF9yZXNvbHZlQ29tcG9uZW50KCJuLW1vZGFsIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19ob2lzdGVkXzIsIF9ob2lzdGVkXzMsIF9jcmVhdGVUZXh0Vk5vZGUoIiDoqILllq7nuL3ph5HpoY3vvJoiICsgX3RvRGlzcGxheVN0cmluZyhfY3R4LmFtb3VudCksIDEKICAvKiBURVhUICovCiAgKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfbl9jYXJkLCB7CiAgICB0aXRsZTogIiIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfbl9idXR0b24sIHsKICAgICAgICB0eXBlOiAicHJpbWFyeSIsCiAgICAgICAgb25DbGljazogX2N0eC5jaGVja291dAogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfaG9pc3RlZF80XTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgICAgLyogU1RBQkxFICovCgogICAgICB9LCA4CiAgICAgIC8qIFBST1BTICovCiAgICAgICwgWyJvbkNsaWNrIl0pXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0pXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X25fbW9kYWwsIHsKICAgIHNob3c6IF9jdHguc2hvd0RlbGV0ZU1vZGFsUmVmLAogICAgIm9uVXBkYXRlOnNob3ciOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuIF9jdHguc2hvd0RlbGV0ZU1vZGFsUmVmID0gJGV2ZW50OwogICAgfSksCiAgICAibWFzay1jbG9zYWJsZSI6IGZhbHNlLAogICAgcHJlc2V0OiAiZGlhbG9nIiwKICAgIHRpdGxlOiAi56K66KqN6KaW56qXIiwKICAgIGNvbnRlbnQ6ICLmgqjnorrlrpropoHliKrpmaTll44/IiwKICAgICJwb3NpdGl2ZS10ZXh0IjogIueiuuWumuWIqumZpCIsCiAgICAibmVnYXRpdmUtdGV4dCI6ICLlj5bmtogiLAogICAgb25Qb3NpdGl2ZUNsaWNrOiBfY3R4Lm9uUG9zaXRpdmVDbGljaywKICAgIG9uTmVnYXRpdmVDbGljazogX2N0eC5vbk5lZ2F0aXZlQ2xpY2ssCiAgICAidHJhbnNmb3JtLW9yaWdpbiI6ICJjZW50ZXIiCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbInNob3ciLCAib25Qb3NpdGl2ZUNsaWNrIiwgIm9uTmVnYXRpdmVDbGljayJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfbl9idXR0b24sIHsKICAgIGlkOiAiZGVsZXRlYnRuIiwKICAgIHN0eWxlOiB7CiAgICAgICJkaXNwbGF5IjogIk5vbmUiCiAgICB9LAogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiBfY3R4LnNob3dEZWxldGVNb2RhbFJlZiA9IHRydWU7CiAgICB9KQogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfaG9pc3RlZF81XTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0pXSwgNjQKICAvKiBTVEFCTEVfRlJBR01FTlQgKi8KICApOwp9"},{"version":3,"mappings":";;AACOA,OAAK,EAAC;;;+CAAY;;8BAErBC,oBAeM,KAfN,EAeM;AAfDD,OAAK,EAAC;AAeL,CAfN,EAAgB,cACdC,oBAaQ,OAbR,EAaQ;AAbDD,OAAK,EAAC,kCAaL;AAbwCE,IAAE,EAAC;AAa3C,CAbR,gBACED,oBAUQ,OAVR,EAUQ,IAVR,EAUQ,cATNA,oBAQK,IARL,EAQK,IARL,EAQK,cAPHA,oBAAW,IAAX,EAAW,IAAX,EAAI,IAAJ,CAOG,eANHA,oBAAW,IAAX,EAAW,IAAX,EAAI,IAAJ,CAMG,eALHA,oBAAW,IAAX,EAAW,IAAX,EAAI,IAAJ,CAKG,eAJHA,oBAAW,IAAX,EAAW,IAAX,EAAI,IAAJ,CAIG,eAHHA,oBAAW,IAAX,EAAW,IAAX,EAAI,IAAJ,CAGG,eADHA,oBAAW,IAAX,EAAW,IAAX,EAAI,IAAJ,CACG,CARL,CASM,CAVR,gBAWAA,oBAAe,OAAf,EAZF,CADc,CAAhB;;AAAA;;+CAkBiD;;+CAmBhD;;;;;;;;;6DAvCHA,oBAsBM,KAtBN,cAsBM,aApBJE,UAoBI,mBALE,YACAC,iBAAGC,WAAH,GAAS;AAAA;GAIX,EAHFC,aAEOC,iBAFP,EAEO;AAFCC,SAAK,EAAC;AAEP,GAFP,EAAgB;sBAChB;AAAA,aAAgE,CAAhEF,aAAgEG,mBAAhE,EAAgE;AAAtDC,YAAI,EAAC,SAAiD;AAAlCC,eAAK,EAAEN;AAA2B,OAAhE;0BAA+C;AAAA,iBAAM,YAAN;AAAA;;;;OAA/C;;AAAA,oBAAgE,CAAhE;AAAA,MADgB;;;;AAAA,GAAhB,CAGE,CAtBN,GAuBAC,aAWEM,kBAXF,EAWE;AAVQC,QAAI,EAAER,uBAUd;;aAVcA,0BAAkBS;MAUhC;AATC,qBAAe,KAShB;AARAC,UAAM,EAAC,QAQP;AAPAP,SAAK,EAAC,MAON;AANAQ,WAAO,EAAC,UAMR;AALA,qBAAc,MAKd;AAJA,qBAAc,IAId;AAHCC,mBAAc,EAAEZ,oBAGjB;AAFCa,mBAAc,EAAEb,oBAEjB;AADA,wBAAiB;AACjB,GAXF;;AAAA,qDAYAC,aAKCG,mBALD,EAKC;AAJCP,MAAE,EAAC,WAIJ;AAHCiB,SAAqB,EAArB;AAAA;AAAA,KAGD;AAFER,WAAK;AAAA,aAAEN,0BAAkB,IAApB;AAAA;AAEP,GALD;sBAIG;AAAA,aAAG,YAAH;AAAA;;;;GAJH","names":["class","_createElementVNode","id","_hoisted_3","_toDisplayString","_ctx","_createVNode","_component_n_card","title","_component_n_button","type","onClick","_component_n_modal","show","$event","preset","content","onPositiveClick","onNegativeClick","style"],"sourceRoot":"","sources":["/Users/decat/Vue3_ecomm/src/views/Shopcart.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    購物車商品\n    <div class=\"row\">\n      <table class=\"table table-hover table-bordered\" id=\"example\">\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>名稱</th>\n            <th>規格</th>\n            <th>單價</th>\n            <th>數量</th>\n\n            <th>操作</th>\n          </tr>\n        </thead>\n        <tbody></tbody>\n      </table>\n    </div>\n    訂單總金額：{{ amount\n    }}<n-card title=\"\">\n      <n-button type=\"primary\" v-on:click=\"checkout\"> 前往結賬 </n-button>\n    </n-card>\n  </div>\n  <n-modal\n    v-model:show=\"showDeleteModalRef\"\n    :mask-closable=\"false\"\n    preset=\"dialog\"\n    title=\"確認視窗\"\n    content=\"您確定要刪除嗎?\"\n    positive-text=\"確定刪除\"\n    negative-text=\"取消\"\n    @positive-click=\"onPositiveClick\"\n    @negative-click=\"onNegativeClick\"\n    transform-origin=\"center\"\n  />\n  <n-button\n    id=\"deletebtn\"\n    style=\"display: None\"\n    @click=\"showDeleteModalRef = true\"\n    >123</n-button\n  >\n</template>\n<style>\n.testimonial-group > .row {\n  display: block;\n  overflow-x: auto;\n  white-space: nowrap;\n}\n.testimonial-group > .row > .col-4 {\n  display: inline-block;\n}\n\n.vertical-center {\n  min-height: 100%; /* Fallback for browsers do NOT support vh unit */\n\n  display: flex;\n  align-items: center;\n}\n</style>\n<script>\nimport { defineComponent, ref } from \"vue\";\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"jquery/dist/jquery.min.js\";\nimport \"datatables.net-dt/js/dataTables.dataTables\";\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\";\nimport $ from \"jquery\";\nexport default defineComponent({\n  setup() {\n    return {\n      showDeleteModalRef: ref(false),\n    };\n  },\n  data() {\n    return {\n      amount: 0,\n      item: \"\",\n    };\n  },\n  mounted() {\n    let proxy = this;\n    this.refreshmount();\n    var table = $(\"#example\").DataTable({\n      ajax: \"http://localhost/api/getshopcart/\" + localStorage.getItem(\"id\"),\n      columnDefs: [\n        {\n          targets: [0],\n          visible: false,\n        },\n        {\n          targets: [1],\n        },\n        {\n          targets: [2],\n        },\n\n        {\n          targets: [5],\n          defaultContent: \"<button id='del'>刪除</button>\",\n        },\n      ],\n    });\n    $(\"#example tbody\").on(\"click\", \"button\", function () {\n      var data = table.row($(this).parents(\"tr\")).data();\n      document.getElementById(\"deletebtn\").click();\n      proxy.editid = data[0];\n    });\n  },\n  methods: {\n    onPositiveClick() {\n      const formData = new FormData();\n      formData.append(\"deleteid\", this.editid);\n      axios.post(\"http://localhost/api/delcart\", formData, {}).then((res) => {\n        if (res.data.Status == \"Success\") {\n          window.$message.success(res.data.Message);\n          $(\"#example\").DataTable().ajax.reload();\n          this.refreshmount();\n          this.showDeleteModalRef = false;\n        }\n      });\n    },\n    onNegativeClick() {\n      console.log(this.amount);\n\n      this.showDeleteModalRef = false;\n    },\n    refreshmount() {\n      this.amount = 0;\n      axios\n        .get(\n          \"http://localhost/api/getshopcart/\" + localStorage.getItem(\"id\"),\n          {}\n        )\n        .then((res) => {\n          for (var i = 0; i < res.data.data.length; i++) {\n            this.amount += res.data.data[i][3] * res.data.data[i][4];\n            this.item += res.data.data[i][1] + \"x\" + res.data.data[i][4] + \"#\";\n          }\n        });\n    },\n    checkout() {\n      \n\n      var url = \"http://localhost/api/pay\";\n      var form = $(\n        '<form style=\"display:none\" action=\"' +\n          url +\n          '\" method=\"post\">' +\n          '<input type=\"text\" name=\"TotalAmount\" value=\"' +\n          this.amount +\n          '\" />' +\n          '<input type=\"text\" name=\"ItemName\" value=\"' +\n          this.item +\n          '\" />' +\n          \"</form>\"\n      );\n\n      $(\"body\").append(form);\n      form.submit();\n    },\n  },\n});\n</script>\n"]}]}