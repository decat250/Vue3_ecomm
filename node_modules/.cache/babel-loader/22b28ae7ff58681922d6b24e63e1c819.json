{"remainingRequest":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js!/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Vue3_ecomm/src/views/Test.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/decat/Vue3_ecomm/src/views/Test.vue","mtime":1645370594449},{"path":"/Users/decat/Vue3_ecomm/babel.config.js","mtime":1644997285751},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1644997287108},{"path":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js","mtime":1644997287031},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1644997287108},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js","mtime":1644997290172}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWYgfSBmcm9tICJ2dWUiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBmaWxlTGlzdExlbmd0aFJlZiA9IHJlZigwKTsKICAgIHZhciB1cGxvYWRSZWYgPSByZWYobnVsbCk7CiAgICByZXR1cm4gewogICAgICB1cGxvYWQ6IHVwbG9hZFJlZiwKICAgICAgZmlsZUxpc3RMZW5ndGg6IGZpbGVMaXN0TGVuZ3RoUmVmLAogICAgICBoYW5kbGVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShfcmVmKSB7CiAgICAgICAgdmFyIGZpbGVMaXN0ID0gX3JlZi5maWxlTGlzdDsKICAgICAgICBmaWxlTGlzdExlbmd0aFJlZi52YWx1ZSA9IGZpbGVMaXN0Lmxlbmd0aDsKICAgICAgfSwKICAgICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKHBhcmFtKSB7CiAgICAgICAgdmFyIGZpbGVPYmogPSBwYXJhbS5maWxlOwogICAgICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgZm9ybS5hcHBlbmQoImZpbGVUb1VwbG9hZCIsIGZpbGVPYmopOwogICAgICAgIGNvbnNvbGUubG9nKGZvcm0pOyAvLyBvdXRwdXQgaXM6IEZvcm1EYXRhIHt9OyDpnIDopoHkvb/nlKggLmdldCgpIOadpeivu+WPlgoKICAgICAgICBjb25zb2xlLmxvZyhmb3JtLmdldCgiZmlsZVRvVXBsb2FkIikpOyAvLyBvdXRwdXQgaXMgZXhhY3RseSB0aGUgZmlsZU9iagoKICAgICAgICBheGlvcy5wb3N0KCJodHRwOi8vMTI3LjAuMC4xL2FwaS91cGxvYWRGaWxlIiwgZm9ybSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAiY29udGVudC10eXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CiAgfQp9KTs="},{"version":3,"mappings":"AAoBA,SAASA,eAAT,EAA0BC,GAA1B,QAAqC,KAArC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAeF,eAAe,CAAC;AAC7BG,OAD6B,mBACrB;AACN,QAAMC,iBAAgB,GAAIH,GAAG,CAAC,CAAD,CAA7B;AACA,QAAMI,SAAQ,GAAIJ,GAAG,CAAC,IAAD,CAArB;AAEA,WAAO;AACLK,YAAM,EAAED,SADH;AAELE,oBAAc,EAAEH,iBAFX;AAGLI,kBAHK,8BAGsB;AAAA,YAAZC,QAAY,QAAZA,QAAY;AACzBL,yBAAiB,CAACM,KAAlB,GAA0BD,QAAQ,CAACE,MAAnC;AACD,OALI;AAMLC,iBANK,uBAMOC,KANP,EAMc;AACjB,YAAIC,OAAM,GAAID,KAAK,CAACE,IAApB;AACA,YAAIC,IAAG,GAAI,IAAIC,QAAJ,EAAX;AACAD,YAAI,CAACE,MAAL,CAAY,cAAZ,EAA4BJ,OAA5B;AACAK,eAAO,CAACC,GAAR,CAAYJ,IAAZ,EAJiB,CAIE;;AACnBG,eAAO,CAACC,GAAR,CAAYJ,IAAI,CAACK,GAAL,CAAS,cAAT,CAAZ,EALiB,CAKsB;;AAEvCnB,aAAK,CAACoB,IAAN,CAAW,iCAAX,EAA8CN,IAA9C,EAAoD;AAClDO,iBAAO,EAAE;AAAE,4BAAgB;AAAlB;AADyC,SAApD;AAGD;AAhBI,KAAP;AAkBD;AAvB4B,CAAD,CAA9B","names":["defineComponent","ref","axios","setup","fileListLengthRef","uploadRef","upload","fileListLength","handleChange","fileList","value","length","handleClick","param","fileObj","file","form","FormData","append","console","log","get","post","headers"],"sourceRoot":"","sources":["/Users/decat/Vue3_ecomm/src/views/Test.vue"],"sourcesContent":["<template>\n  <n-button\n    :disabled=\"!fileListLength\"\n    @click=\"handleClick\"\n    style=\"margin-bottom: 12px\"\n  >\n    Upload File\n  </n-button>\n  <n-upload\n    @change=\"handleChange\"\n    action=\"https://www.mocky.io/v2/5e4bafc63100007100d8b70f\"\n    :default-upload=\"false\"\n    multiple\n    ref=\"upload\"\n  >\n    <n-button>Select File</n-button>\n  </n-upload>\n</template>\n\n<script>\nimport { defineComponent, ref } from \"vue\";\nimport axios from 'axios'\n\nexport default defineComponent({\n  setup() {\n    const fileListLengthRef = ref(0);\n    const uploadRef = ref(null);\n\n    return {\n      upload: uploadRef,\n      fileListLength: fileListLengthRef,\n      handleChange({ fileList }) {\n        fileListLengthRef.value = fileList.length;\n      },\n      handleClick(param) {\n        let fileObj = param.file;\n        let form = new FormData();\n        form.append(\"fileToUpload\", fileObj);\n        console.log(form); // output is: FormData {}; 需要使用 .get() 来读取\n        console.log(form.get(\"fileToUpload\")); // output is exactly the fileObj\n\n        axios.post(\"http://127.0.0.1/api/uploadFile\", form, {\n          headers: { \"content-type\": \"multipart/form-data\" },\n        });\n      },\n    };\n  },\n});\n</script>"]}]}