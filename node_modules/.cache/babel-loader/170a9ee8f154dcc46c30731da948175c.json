{"remainingRequest":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js!/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Vue3_ecomm/src/components/header.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/decat/Vue3_ecomm/src/components/header.vue","mtime":1645151394484},{"path":"/Users/decat/Vue3_ecomm/babel.config.js","mtime":1644997285751},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1644997287108},{"path":"/Users/decat/Vue3_ecomm/node_modules/babel-loader/lib/index.js","mtime":1644997287031},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1644997287108},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js","mtime":1644997290172}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHJlZiB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IHVzZU1lc3NhZ2UgfSBmcm9tICJuYWl2ZS11aSI7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgbmFtZTogImhlYWRlciIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIHZhaWxlZGVtYWlsID0gZnVuY3Rpb24gdmFpbGVkZW1haWwocnVsZXMsIHZhbHVlKSB7CiAgICAgIC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgIGlmICgvXlx3KyhbXC4tXT9cdyspKkBcdysoW1wuLV0/XHcrKSooXC5cd3syLDN9KSskLy50ZXN0KHZhbHVlKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgZm9yZm9ybXNhbWVwYXNzd29yZCA9IGZ1bmN0aW9uIGZvcmZvcm1zYW1lcGFzc3dvcmQocnVsZXMsIHZhbHVlKSB7CiAgICAgIGlmIChfdGhpcy5zaWdudXBmb3JtVmFsdWUucGFzc3dvcmQgPT09IHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9OyAvL+iou+WGiueVq+mdouWvhueivOmpl+itiQoKCiAgICB2YXIgc2lnbnVwZm9ybXNhbWVwYXNzd29yZCA9IGZ1bmN0aW9uIHNpZ251cGZvcm1zYW1lcGFzc3dvcmQocnVsZXMsIHZhbHVlKSB7CiAgICAgIGNvbnNvbGUubG9nKHZhbHVlKTsKCiAgICAgIGlmIChfdGhpcy5zaWdudXBmb3JtVmFsdWUucGFzc3dvcmQgPT09IHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGlzbG9naW46IGZhbHNlLAogICAgICByZXNldHZhaWxkYnV0dG9uOiBmYWxzZSwKICAgICAgLy/ph43oqK3lr4bnorzmjInpiJXmmK/lkKblj6/moYgKICAgICAgcmVzZXR2YWlsZGZvcm06IHRydWUsCiAgICAgIC8v6YeN6Kit5a+G56K85qyE5L2N5piv5ZCm5LiN5Y+v5aGr5a+rCiAgICAgIHJlc2V0YWNjb3VudDogIjAiLAogICAgICBsb2dpbmZvcm1WYWx1ZTogcmVmKHsKICAgICAgICBhY2NvdW50OiAiIiwKICAgICAgICBwYXNzd29yZDogIiIKICAgICAgfSksCiAgICAgIHNpZ251cGZvcm1WYWx1ZTogcmVmKHsKICAgICAgICBhY2NvdW50OiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgc2lnbnVwcmVlbnRlcmVkUGFzc3dvcmQ6ICIiLAogICAgICAgIGNvZGU6ICIiLAogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICBwaG9uZTogIiIsCiAgICAgICAgYWdlOiAiIgogICAgICB9KSwKICAgICAgZm9yZ2V0Zm9ybVZhbHVlYTogcmVmKHsKICAgICAgICBhY2NvdW50OiAiIiwKICAgICAgICBlbWFpbDogIiIKICAgICAgfSksCiAgICAgIGZvcmdldGZvcm1WYWx1ZWI6IHJlZih7CiAgICAgICAgdmFpbGRjb2RlOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgcmVlbnRlcmVkUGFzc3dvcmQ6ICIiCiAgICAgIH0pLAogICAgICBydWxlczogewogICAgICAgIGVtYWlsOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6YCZ5piv5b+F5aGr5qyE5L2NIiwKICAgICAgICAgIHRyaWdnZXI6IFsiaW5wdXQiLCAiYmx1ciJdCiAgICAgICAgfSwgewogICAgICAgICAgdmFsaWRhdG9yOiB2YWlsZWRlbWFpbCwKICAgICAgICAgIG1lc3NhZ2U6ICLkv6HnrrHmoLzlvI/kuI3mraPnoroiLAogICAgICAgICAgdHJpZ2dlcjogWyJibHVyIiwgInBhc3N3b3JkLWlucHV0Il0KICAgICAgICB9XSwKICAgICAgICBhY2NvdW50OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6YCZ5piv5b+F5aGr5qyE5L2NIiwKICAgICAgICAgIHRyaWdnZXI6IFsiaW5wdXQiLCAiYmx1ciJdCiAgICAgICAgfV0sCiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIumAmeaYr+W/heWhq+ashOS9jSIsCiAgICAgICAgICB0cmlnZ2VyOiBbImlucHV0IiwgImJsdXIiXQogICAgICAgIH1dLAogICAgICAgIHBob25lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6YCZ5piv5b+F5aGr5qyE5L2NIiwKICAgICAgICAgIHRyaWdnZXI6IFsiaW5wdXQiLCAiYmx1ciJdCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLpgJnmmK/lv4XloavmrITkvY0iLAogICAgICAgICAgdHJpZ2dlcjogWyJpbnB1dCIsICJibHVyIl0KICAgICAgICB9XSwKICAgICAgICBmb3JyZWVudGVyZWRQYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIumAmeaYr+W/heWhq+ashOS9jSIsCiAgICAgICAgICB0cmlnZ2VyOiBbImlucHV0IiwgImJsdXIiXQogICAgICAgIH0sIHsKICAgICAgICAgIHZhbGlkYXRvcjogZm9yZm9ybXNhbWVwYXNzd29yZCwKICAgICAgICAgIG1lc3NhZ2U6ICJQYXNzd29yZCBpcyBub3Qgc2FtZSBhcyByZS1lbnRlcmVkIHBhc3N3b3JkISIsCiAgICAgICAgICB0cmlnZ2VyOiBbImJsdXIiLCAicGFzc3dvcmQtaW5wdXQiXQogICAgICAgIH1dLAogICAgICAgIHNpZ251cHJlZW50ZXJlZFBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6YCZ5piv5b+F5aGr5qyE5L2NIiwKICAgICAgICAgIHRyaWdnZXI6IFsiaW5wdXQiLCAiYmx1ciJdCiAgICAgICAgfSwgewogICAgICAgICAgdmFsaWRhdG9yOiBzaWdudXBmb3Jtc2FtZXBhc3N3b3JkLAogICAgICAgICAgbWVzc2FnZTogIlBhc3N3b3JkIGlzIG5vdCBzYW1lIGFzIHJlLWVudGVyZWQgcGFzc3dvcmQhIiwKICAgICAgICAgIHRyaWdnZXI6IFsiYmx1ciIsICJwYXNzd29yZC1pbnB1dCJdCiAgICAgICAgfV0sCiAgICAgICAgdmFpbGRjb2RlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6YCZ5piv5b+F5aGr5qyE5L2NIiwKICAgICAgICAgIHRyaWdnZXI6IFsiaW5wdXQiLCAiYmx1ciJdCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgaXNMb2dpbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhY2NvdW50Iik7CgogICAgaWYgKGlzTG9naW4gIT0gbnVsbCkgewogICAgICB0aGlzLmlzbG9naW4gPSB0cnVlOwogICAgICB0aGlzLmFjY291bnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWNjb3VudCIpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5pc2xvZ2luID0gZmFsc2U7CiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB3aW5kb3cuJG1lc3NhZ2UgPSB1c2VNZXNzYWdlKCk7CiAgICB2YXIgc2lnbnVwZm9ybVJlZiA9IHJlZihudWxsKTsgLy/oqLvlhorluLPomZ8KCiAgICB2YXIgZm9ydmFpbGRmb3JtUmVmID0gcmVmKG51bGwpOyAvL+W/mOiomOWvhueivOmpl+itieeivOihqOWWrgoKICAgIHZhciBmb3JtcmVzZXRwYXNzd29yZFJlZiA9IHJlZihudWxsKTsgLy/ph43oqK3lr4bnorwKCiAgICB2YXIgbG9naW5mb3JtcmVmID0gcmVmKG51bGwpOyAvL+eZu+WFpeihqOWWrgoKICAgIHJldHVybiB7CiAgICAgIGxvZ2luZm9ybXJlZjogbG9naW5mb3JtcmVmLAogICAgICBzaWdudXBmb3JtUmVmOiBzaWdudXBmb3JtUmVmLAogICAgICBmb3J2YWlsZGZvcm1SZWY6IGZvcnZhaWxkZm9ybVJlZiwKICAgICAgZm9ybXJlc2V0cGFzc3dvcmRSZWY6IGZvcm1yZXNldHBhc3N3b3JkUmVmLAogICAgICBzaG93TG9naW5Nb2RhbDogcmVmKGZhbHNlKQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc2V0cGFzc3dvcmQ6IGZ1bmN0aW9uIHJlc2V0cGFzc3dvcmQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5mb3JtcmVzZXRwYXNzd29yZFJlZi52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICBmZXRjaCgiaHR0cDovL2xvY2FsaG9zdC9hcGkvcmVzZXRwd2QiLCB7CiAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgQWNjZXB0OiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgICAgICB9LAogICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgaWQ6IF90aGlzMi5yZXNldGFjY291bnQsCiAgICAgICAgICAgICAgY29kZTogX3RoaXMyLmZvcmdldGZvcm1WYWx1ZWIudmFpbGRjb2RlLAogICAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpczIuZm9yZ2V0Zm9ybVZhbHVlYi5wYXNzd29yZAogICAgICAgICAgICB9KQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICByZXR1cm4gZGF0YS5qc29uKCk7CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXQpIHsKICAgICAgICAgICAgaWYgKHJldC5TdGF0dXMgPT0gIkZhaWxlZCIpIHsKICAgICAgICAgICAgICB3aW5kb3cuJG1lc3NhZ2UuZXJyb3IocmV0Lk1lc3NhZ2UpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzMi5mb3JnZXRmb3JtVmFsdWVhLmVtYWlsID0gIiI7CiAgICAgICAgICAgICAgX3RoaXMyLmZvcmdldGZvcm1WYWx1ZWEuYWNjb3VudCA9ICIiOwogICAgICAgICAgICAgIF90aGlzMi5mb3JnZXRmb3JtVmFsdWViLnZhaWxkY29kZSA9ICIiOwogICAgICAgICAgICAgIF90aGlzMi5mb3JnZXRmb3JtVmFsdWViLnBhc3N3b3JkID0gIiI7CiAgICAgICAgICAgICAgX3RoaXMyLmZvcmdldGZvcm1WYWx1ZWIucmVlbnRlcmVkUGFzc3dvcmQgPSAiIjsKICAgICAgICAgICAgICBfdGhpczIucmVzZXR2YWlsZGJ1dHRvbiA9IGZhbHNlOyAvL+mHjeioreWvhueivOaMiemIleaYr+WQpuWPr+ahiAoKICAgICAgICAgICAgICBfdGhpczIucmVzZXR2YWlsZGZvcm0gPSB0cnVlOyAvL+mHjeioreWvhueivOashOS9jeaYr+WQpuS4jeWPr+Whq+WvqwoKICAgICAgICAgICAgICB3aW5kb3cuJG1lc3NhZ2Uuc3VjY2VzcyhyZXQuTWVzc2FnZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzZW5kdmFpbGVkOiBmdW5jdGlvbiBzZW5kdmFpbGVkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuZm9ydmFpbGRmb3JtUmVmLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgIF90aGlzMy5yZXNldHZhaWxkYnV0dG9uID0gdHJ1ZTsKICAgICAgICAgIGZldGNoKCJodHRwOi8vbG9jYWxob3N0L2FwaS9yZXNldHB3ZHNlbmR2YWlsZCIsIHsKICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICBhY2NvdW50OiBfdGhpczMuZm9yZ2V0Zm9ybVZhbHVlYS5hY2NvdW50LAogICAgICAgICAgICAgIGVtYWlsOiBfdGhpczMuZm9yZ2V0Zm9ybVZhbHVlYS5lbWFpbAogICAgICAgICAgICB9KQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICByZXR1cm4gZGF0YS5qc29uKCk7CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXQpIHsKICAgICAgICAgICAgaWYgKHJldC5TdGF0dXMgPT0gIkZhaWxlZCIpIHsKICAgICAgICAgICAgICBfdGhpczMucmVzZXR2YWlsZGJ1dHRvbiA9IGZhbHNlOwogICAgICAgICAgICAgIHdpbmRvdy4kbWVzc2FnZS5lcnJvcihyZXQuTWVzc2FnZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMzLnJlc2V0dmFpbGRmb3JtID0gZmFsc2U7CiAgICAgICAgICAgICAgX3RoaXMzLnJlc2V0YWNjb3VudCA9IHJldC5pZDsKICAgICAgICAgICAgICB3aW5kb3cuJG1lc3NhZ2Uuc3VjY2VzcyhyZXQuTWVzc2FnZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzaWdudXA6IGZ1bmN0aW9uIHNpZ251cCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICAvL+iou+WGiuW4s+iZnwogICAgICB0aGlzLnNpZ251cGZvcm1SZWYudmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgICAgZmV0Y2goImh0dHA6Ly9sb2NhbGhvc3QvYXBpL3NpZ251cCIsIHsKICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICBhY2NvdW50OiBfdGhpczQuc2lnbnVwZm9ybVZhbHVlLmFjY291bnQsCiAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzNC5zaWdudXBmb3JtVmFsdWUucGFzc3dvcmQsCiAgICAgICAgICAgICAgbmFtZTogX3RoaXM0LnNpZ251cGZvcm1WYWx1ZS5uYW1lLAogICAgICAgICAgICAgIHBob25lOiBfdGhpczQuc2lnbnVwZm9ybVZhbHVlLnBob25lLAogICAgICAgICAgICAgIGVtYWlsOiBfdGhpczQuc2lnbnVwZm9ybVZhbHVlLmVtYWlsCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIHJldHVybiBkYXRhLmpzb24oKTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJldCkgewogICAgICAgICAgICBpZiAocmV0LlN0YXR1cyA9PSAiU3VjY2VzcyIpIHsKICAgICAgICAgICAgICBfdGhpczQuc2lnbnVwZm9ybVZhbHVlLmFjY291bnQgPSAiIjsKICAgICAgICAgICAgICBfdGhpczQuc2lnbnVwZm9ybVZhbHVlLnBhc3N3b3JkID0gIiI7CiAgICAgICAgICAgICAgX3RoaXM0LnNpZ251cGZvcm1WYWx1ZS5uYW1lID0gIiI7CiAgICAgICAgICAgICAgX3RoaXM0LnNpZ251cGZvcm1WYWx1ZS5waG9uZSA9ICIiOwogICAgICAgICAgICAgIF90aGlzNC5zaWdudXBmb3JtVmFsdWUuZW1haWwgPSAiIjsKICAgICAgICAgICAgICB3aW5kb3cuJG1lc3NhZ2Uuc3VjY2VzcyhyZXQuTWVzc2FnZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgd2luZG93LiRtZXNzYWdlLmVycm9yKHJldC5NZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiYWNjb3VudCIpOwogICAgICB0aGlzLmlzbG9naW4gPSBmYWxzZTsKICAgICAgd2luZG93LiRtZXNzYWdlLnN1Y2Nlc3MoIuaCqOW3sueZu+WHuiIpOwogICAgfSwKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLmxvZ2luZm9ybXJlZi52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICBmZXRjaCgiaHR0cDovLzEyNy4wLjAuMS9hcGkvc2lnbmluIiwgewogICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgIGFjY291bnQ6IF90aGlzNS5sb2dpbmZvcm1WYWx1ZS5hY2NvdW50LAogICAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpczUubG9naW5mb3JtVmFsdWUucGFzc3dvcmQKICAgICAgICAgICAgfSkKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgcmV0dXJuIGRhdGEuanNvbigpOwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmV0KSB7CiAgICAgICAgICAgIGlmIChyZXQuU3RhdHVzID09ICJTdWNjZXNzIikgewogICAgICAgICAgICAgIF90aGlzNS5zaG93TG9naW5Nb2RhbCA9IGZhbHNlOwogICAgICAgICAgICAgIF90aGlzNS5pc2xvZ2luID0gdHJ1ZTsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiYWNjb3VudCIsIHJldC5kYXRhWzBdKTsKICAgICAgICAgICAgICB3aW5kb3cuJG1lc3NhZ2Uuc3VjY2VzcyhyZXQuTWVzc2FnZSk7CiAgICAgICAgICAgICAgX3RoaXM1LmxvZ2luZm9ybVZhbHVlLmFjY291bnQgPSAiIjsKICAgICAgICAgICAgICBfdGhpczUubG9naW5mb3JtVmFsdWUucGFzc3dvcmQgPSAiIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB3aW5kb3cuJG1lc3NhZ2UuZXJyb3IocmV0Lk1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9KTs="},{"version":3,"mappings":"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","names":["defineComponent","ref","useMessage","name","components","data","vailedemail","rules","value","test","forformsamepassword","signupformValue","password","signupformsamepassword","console","log","islogin","resetvaildbutton","resetvaildform","resetaccount","loginformValue","account","signupreenteredPassword","code","email","phone","age","forgetformValuea","forgetformValueb","vaildcode","reenteredPassword","required","message","trigger","validator","forreenteredPassword","mounted","isLogin","localStorage","getItem","setup","window","$message","signupformRef","forvaildformRef","formresetpasswordRef","loginformref","showLoginModal","methods","resetpassword","validate","valid","fetch","method","headers","Accept","body","JSON","stringify","id","then","json","ret","Status","error","Message","success","sendvailed","signup","logout","removeItem","login","setItem"],"sourceRoot":"","sources":["/Users/decat/Vue3_ecomm/src/components/header.vue"],"sourcesContent":["\n<template>\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n    <div class=\"container-fluid\">\n      <router-link class=\"navbar-brand\" to=\"/\">Easy Shop</router-link>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarSupportedContent\"\n        aria-controls=\"navbarSupportedContent\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/\">首頁</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/Shopcart\">購物車</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/test\">test</router-link>\n          </li>\n        </ul>\n\n        <span\n          v-if=\"islogin\"\n          class=\"navbar-text\"\n          style=\"text-decoration: none; margin-right: 10px\"\n        >\n          <router-link\n            v-if=\"islogin\"\n            to=\"/Userinfo\"\n            style=\"text-decoration: none\"\n            >{{ account }}test</router-link\n          >\n        </span>\n\n        <span class=\"navbar-text\" style=\"text-decoration: none\">\n          <a\n            v-if=\"islogin\"\n            to=\"\"\n            style=\"text-decoration: none\"\n            v-on:click=\"logout\"\n            >登出</a\n          >\n        </span>\n\n        <span class=\"navbar-text\" v-if=\"!islogin\" style=\"text-decoration: none\">\n          <a\n            style=\"text-decoration: none\"\n            @click=\"showLoginModal = true\"\n            v-if=\"!islogin\"\n            >登入</a\n          >\n        </span>\n      </div>\n    </div>\n  </nav>\n\n  <n-modal v-model:show=\"showLoginModal\" content=\"Are you sure?\">\n    <n-card\n      style=\"width: 600px\"\n      title=\"\"\n      :bordered=\"false\"\n      size=\"huge\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n    >\n      <n-tabs default-value=\"signin\" size=\"large\">\n        <n-tab-pane name=\"signin\" tab=\"登入\">\n          <n-form :model=\"loginformValue\" ref=\"loginformref\" :rules=\"rules\">\n            <n-form-item path=\"account\" label=\"帳號\">\n              <n-input\n                v-model:value=\"loginformValue.account\"\n                placeholder=\"請輸入帳號\"\n                clearable\n              />\n            </n-form-item>\n\n            <n-form-item path=\"password\" label=\"密碼\">\n              <n-input\n                v-model:value=\"loginformValue.password\"\n                placeholder=\"請輸入密碼\"\n                @keyup.enter=\"login\"\n                type=\"password\"\n                clearable\n              />\n            </n-form-item>\n          </n-form>\n          <n-button type=\"primary\" block secondary strong v-on:click=\"login\"\n            >登入\n          </n-button>\n        </n-tab-pane>\n\n        <n-tab-pane name=\"forgetpassword\" tab=\"忘記密碼\">\n          <n-form\n            :model=\"forgetformValuea\"\n            ref=\"forvaildformRef\"\n            :rules=\"rules\"\n          >\n            <n-form-item path=\"account\" label=\"帳號\">\n              <n-input\n                v-model:value=\"forgetformValuea.account\"\n                placeholder=\"請輸入帳號\"\n              />\n            </n-form-item>\n            <n-form-item path=\"email\" label=\"信箱\">\n              <n-input\n                type=\"email\"\n                v-model:value=\"forgetformValuea.email\"\n                placeholder=\"請輸入信箱\"\n                @keyup.enter=\"sendvailed\"\n              />\n            </n-form-item>\n\n            <n-button\n              type=\"primary\"\n              @click=\"sendvailed()\"\n              block\n              secondary\n              strong\n              :disabled=\"resetvaildbutton\"\n              >送出驗證碼\n            </n-button>\n          </n-form>\n          <n-form\n            :model=\"forgetformValueb\"\n            ref=\"formresetpasswordRef\"\n            :rules=\"rules\"\n          >\n            <n-form-item\n              path=\"vaildcode\"\n              label=\"驗證碼\"\n              style=\"margin-top: 20px\"\n            >\n              <n-input\n                v-model:value=\"forgetformValueb.vaildcode\"\n                placeholder=\"請輸入驗證碼\"\n                :disabled=\"resetvaildform\"\n              />\n            </n-form-item>\n\n            <n-form-item path=\"password\" label=\"密碼\">\n              <n-input\n                type=\"password\"\n                v-model:value=\"forgetformValueb.password\"\n                placeholder=\"請輸入新密碼\"\n                :disabled=\"resetvaildform\"\n              />\n            </n-form-item>\n\n            <n-form-item path=\"forreenteredPassword\" label=\"密碼確認\">\n              <n-input\n                type=\"password\"\n                v-model:value=\"forgetformValueb.reenteredPassword\"\n                placeholder=\"請重新輸入新密碼\"\n                :disabled=\"resetvaildform\"\n              />\n            </n-form-item>\n\n            <n-button\n              type=\"primary\"\n              @click=\"resetpassword()\"\n              block\n              secondary\n              strong\n              :disabled=\"resetvaildform\"\n              >重設密碼\n            </n-button>\n          </n-form>\n        </n-tab-pane>\n\n        <n-tab-pane name=\"signup\" tab=\"註冊帳號\">\n          <n-form :model=\"signupformValue\" ref=\"signupformRef\" :rules=\"rules\">\n            <n-form-item path=\"account\" label=\"帳號\">\n              <n-input\n                v-model:value=\"signupformValue.account\"\n                placeholder=\"請輸入帳號\"\n              />\n            </n-form-item>\n\n            <n-form-item path=\"name\" label=\"姓名\">\n              <n-input\n                v-model:value=\"signupformValue.name\"\n                placeholder=\"請輸入姓名\"\n              />\n            </n-form-item>\n\n            <n-form-item path=\"phone\" label=\"電話\">\n              <n-input\n                v-model:value=\"signupformValue.phone\"\n                placeholder=\"請輸入電話\"\n              />\n            </n-form-item>\n\n            <n-form-item path=\"email\" label=\"信箱\">\n              <n-input\n                v-model:value=\"signupformValue.email\"\n                placeholder=\"請輸入信箱\"\n              />\n            </n-form-item>\n            \n            <n-form-item path=\"password\" placeholder=\"請輸入密碼\" label=\"密碼\">\n              <n-input\n                v-model:value=\"signupformValue.password\"\n                type=\"password\"\n              />\n            </n-form-item>\n\n            <n-form-item\n              path=\"signupreenteredPassword\"\n              placeholder=\"請重新輸入密碼\"\n              label=\"確認密碼\"\n            >\n              <n-input\n                type=\"password\"\n                v-model:value=\"signupformValue.signupreenteredPassword\"\n              />\n            </n-form-item>\n\n            <n-button type=\"primary\" @click=\"signup()\" block secondary strong\n              >註冊\n            </n-button>\n          </n-form>\n        </n-tab-pane>\n      </n-tabs>\n    </n-card>\n  </n-modal>\n</template>\n\n<script>\nimport { defineComponent, ref } from \"vue\";\nimport { useMessage } from \"naive-ui\";\n\nexport default defineComponent({\n  name: \"header\",\n  components: {},\n  data() {\n    const vailedemail = (rules, value) => {\n      //eslint-disable-next-line\n      if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(value)) {\n        return true\n      } else {\n        return false\n      }\n    };\n    const forformsamepassword = (rules, value) => {\n      if (this.signupformValue.password === value) {\n        return true;\n      } else {\n        return false;\n      }\n    };\n    //註冊畫面密碼驗證\n    const signupformsamepassword = (rules, value) => {\n      console.log(value);\n      if (this.signupformValue.password === value) {\n        return true;\n      } else {\n        return false;\n      }\n    };\n    return {\n      islogin: false,\n      resetvaildbutton: false, //重設密碼按鈕是否可案\n      resetvaildform: true, //重設密碼欄位是否不可填寫\n      resetaccount: \"0\",\n      loginformValue: ref({\n        account: \"\",\n        password: \"\",\n      }),\n      signupformValue: ref({\n        account: \"\",\n        password: \"\",\n        signupreenteredPassword: \"\",\n        code:\"\",\n        email: \"\",\n        phone: \"\",\n        age: \"\",\n      }),\n      forgetformValuea: ref({\n        account: \"\",\n        email: \"\",\n      }),\n      forgetformValueb: ref({\n        vaildcode: \"\",\n        password: \"\",\n        reenteredPassword: \"\",\n      }),\n      rules: {\n        email: [\n          {\n            required: true,\n            message: \"這是必填欄位\",\n            trigger: [\"input\", \"blur\"],\n          },\n          {\n            validator: vailedemail,\n            message: \"信箱格式不正確\",\n            trigger: [\"blur\", \"password-input\"],\n          },\n        ],\n        account: [\n          {\n            required: true,\n            message: \"這是必填欄位\",\n            trigger: [\"input\", \"blur\"],\n          },\n        ],\n        name: [\n          {\n            required: true,\n            message: \"這是必填欄位\",\n            trigger: [\"input\", \"blur\"],\n          },\n        ],\n        phone: [\n          {\n            required: true,\n            message: \"這是必填欄位\",\n            trigger: [\"input\", \"blur\"],\n          },\n        ],\n        password: [\n          {\n            required: true,\n            message: \"這是必填欄位\",\n            trigger: [\"input\", \"blur\"],\n          },\n        ],\n        forreenteredPassword: [\n          {\n            required: true,\n            message: \"這是必填欄位\",\n            trigger: [\"input\", \"blur\"],\n          },\n          {\n            validator: forformsamepassword,\n            message: \"Password is not same as re-entered password!\",\n            trigger: [\"blur\", \"password-input\"],\n          },\n        ],\n        signupreenteredPassword: [\n          {\n            required: true,\n            message: \"這是必填欄位\",\n            trigger: [\"input\", \"blur\"],\n          },\n          {\n            validator: signupformsamepassword,\n            message: \"Password is not same as re-entered password!\",\n            trigger: [\"blur\", \"password-input\"],\n          },\n        ],\n        vaildcode: [\n          {\n            required: true,\n            message: \"這是必填欄位\",\n            trigger: [\"input\", \"blur\"],\n          },\n        ],\n      },\n    };\n  },\n  mounted() {\n    const isLogin = localStorage.getItem(\"account\");\n\n    if (isLogin != null) {\n      this.islogin = true;\n      this.account = localStorage.getItem(\"account\");\n    } else {\n      this.islogin = false;\n    }\n  },\n  setup() {\n    window.$message = useMessage();\n    const signupformRef = ref(null); //註冊帳號\n    const forvaildformRef = ref(null); //忘記密碼驗證碼表單\n    const formresetpasswordRef = ref(null); //重設密碼\n    const loginformref = ref(null); //登入表單\n\n    return {\n      loginformref,\n      signupformRef,\n      forvaildformRef,\n      formresetpasswordRef,\n      showLoginModal: ref(false),\n    };\n  },\n  methods: {\n    resetpassword() {\n      this.formresetpasswordRef.validate((valid) => {\n        if (!valid) {\n          fetch(\"http://localhost/api/resetpwd\", {\n            method: \"post\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              id: this.resetaccount,\n              code: this.forgetformValueb.vaildcode,\n              password: this.forgetformValueb.password,\n            }),\n          })\n            .then((data) => {\n              return data.json();\n            })\n            .then((ret) => {\n              if (ret.Status == \"Failed\") {\n                window.$message.error(ret.Message);\n              } else {\n                this.forgetformValuea.email = \"\";\n                this.forgetformValuea.account = \"\";\n                this.forgetformValueb.vaildcode = \"\";\n                this.forgetformValueb.password = \"\";\n                this.forgetformValueb.reenteredPassword = \"\";\n                this.resetvaildbutton = false; //重設密碼按鈕是否可案\n                this.resetvaildform = true; //重設密碼欄位是否不可填寫\n                window.$message.success(ret.Message);\n              }\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    sendvailed() {\n      this.forvaildformRef.validate((valid) => {\n        if (!valid) {\n          this.resetvaildbutton = true;\n          fetch(\"http://localhost/api/resetpwdsendvaild\", {\n            method: \"post\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              account: this.forgetformValuea.account,\n              email: this.forgetformValuea.email,\n            }),\n          })\n            .then((data) => {\n              return data.json();\n            })\n            .then((ret) => {\n              if (ret.Status == \"Failed\") {\n                this.resetvaildbutton = false;\n                window.$message.error(ret.Message);\n              } else {\n                this.resetvaildform = false;\n                this.resetaccount = ret.id;\n                window.$message.success(ret.Message);\n              }\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    signup() {\n      //註冊帳號\n      this.signupformRef.validate((valid) => {\n        if (!valid) {\n          fetch(\"http://localhost/api/signup\", {\n            method: \"post\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              account: this.signupformValue.account,\n              password: this.signupformValue.password,\n              name: this.signupformValue.name,\n              phone: this.signupformValue.phone,\n              email: this.signupformValue.email,\n            }),\n          })\n            .then((data) => {\n              return data.json();\n            })\n            .then((ret) => {\n              if (ret.Status == \"Success\") {\n                this.signupformValue.account=\"\"\n                this.signupformValue.password=\"\"\n                this.signupformValue.name=\"\"\n                this.signupformValue.phone=\"\"\n                this.signupformValue.email=\"\"\n\n                window.$message.success(ret.Message);\n              } else {\n                window.$message.error(ret.Message);\n              }\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    logout() {\n      localStorage.removeItem(\"account\");\n      this.islogin = false;\n      window.$message.success(\"您已登出\");\n    },\n    login() {\n      this.loginformref.validate((valid) => {\n        if (!valid) {\n          fetch(\"http://127.0.0.1/api/signin\", {\n            method: \"post\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              account: this.loginformValue.account,\n              password: this.loginformValue.password,\n            }),\n          })\n            .then((data) => {\n              return data.json();\n            })\n            .then((ret) => {\n              if (ret.Status == \"Success\") {\n                this.showLoginModal = false;\n                this.islogin = true;\n                localStorage.setItem(\"account\", ret.data[0]);\n                window.$message.success(ret.Message);\n                this.loginformValue.account = \"\";\n                this.loginformValue.password = \"\";\n              } else {\n                window.$message.error(ret.Message);\n              }\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n  },\n});\n</script>\n"]}]}