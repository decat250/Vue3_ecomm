{"remainingRequest":"/Users/decat/Desktop/vue3/node_modules/babel-loader/lib/index.js!/Users/decat/Desktop/vue3/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/decat/Desktop/vue3/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Desktop/vue3/src/components/header.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/decat/Desktop/vue3/src/components/header.vue","mtime":1644913404893},{"path":"/Users/decat/Desktop/vue3/babel.config.js","mtime":1644496469297},{"path":"/Users/decat/Desktop/vue3/node_modules/cache-loader/dist/cjs.js","mtime":1644496465656},{"path":"/Users/decat/Desktop/vue3/node_modules/babel-loader/lib/index.js","mtime":1644496465918},{"path":"/Users/decat/Desktop/vue3/node_modules/cache-loader/dist/cjs.js","mtime":1644496465656},{"path":"/Users/decat/Desktop/vue3/node_modules/vue-loader-v16/dist/index.js","mtime":1644496465914}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWYgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyB1c2VNZXNzYWdlIH0gZnJvbSAibmFpdmUtdWkiOwoKdmFyIGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTsKCmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgbmFtZTogImhlYWRlciIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzbG9naW46IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBpc0xvZ2luID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFjY291bnQiKTsKICAgIGNvbnNvbGUubG9nKGlzTG9naW4gPT09IG51bGwpOwoKICAgIGlmIChpc0xvZ2luICE9IG51bGwpIHsKICAgICAgdGhpcy5pc2xvZ2luID0gdHJ1ZTsKICAgICAgdGhpcy5hY2NvdW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFjY291bnQiKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuaXNsb2dpbiA9IGZhbHNlOwogICAgfQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgd2luZG93LiRtZXNzYWdlID0gdXNlTWVzc2FnZSgpOwogICAgdmFyIGZvcm1SZWYgPSByZWYobnVsbCk7CiAgICByZXR1cm4gewogICAgICBmb3JtUmVmOiBmb3JtUmVmLAogICAgICBzaG93TG9naW5Nb2RhbDogcmVmKGZhbHNlKSwKICAgICAgbG9naW5mb3JtVmFsdWU6IHJlZih7CiAgICAgICAgdXNlcjogewogICAgICAgICAgYWNjb3VudDogIiIsCiAgICAgICAgICBwYXNzd29yZDogIiIKICAgICAgICB9CiAgICAgIH0pCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJhY2NvdW50Iik7CiAgICAgIHRoaXMuaXNsb2dpbiA9IGZhbHNlOwogICAgICB3aW5kb3cuJG1lc3NhZ2Uuc3VjY2Vzcygi5oKo5bey55m75Ye6Iik7CiAgICB9LAogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICBheGlvcy5wb3N0KCJodHRwOi8vMTkyLjE2OC41MC4xMTUvYXBpL3NpZ25pbiIsIHsKICAgICAgICAiYWNjb3VudCI6ICJhYmNkIiwKICAgICAgICAicGFzc3dvcmQiOiAiMTIzNCIsCiAgICAgICAgZGF0YVR5cGU6ICdqc29ucCcKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgYWxlcnQoIueVmeiogOaIkOWKnyIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgYWxlcnQoIueVmeiogOWkseaVlyIpOwogICAgICB9KTsKCiAgICAgIGlmICh0aGlzLmxvZ2luZm9ybVZhbHVlLnVzZXIuYWNjb3VudCA9PSAiYWJjZCIgJiYgdGhpcy5sb2dpbmZvcm1WYWx1ZS51c2VyLnBhc3N3b3JkID09ICIxMjM0IikgewogICAgICAgIHRoaXMuc2hvd0xvZ2luTW9kYWwgPSBmYWxzZTsKICAgICAgICB0aGlzLmlzbG9naW4gPSB0cnVlOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJhY2NvdW50IiwgdGhpcy5sb2dpbmZvcm1WYWx1ZS51c2VyLmFjY291bnQpOwogICAgICAgIHdpbmRvdy4kbWVzc2FnZS5zdWNjZXNzKHRoaXMubG9naW5mb3JtVmFsdWUudXNlci5hY2NvdW50ICsgIuaCqOWlvSIpOwogICAgICAgIHRoaXMubG9naW5mb3JtVmFsdWUudXNlci5hY2NvdW50ID0gIiI7CiAgICAgICAgdGhpcy5sb2dpbmZvcm1WYWx1ZS51c2VyLnBhc3N3b3JkID0gIiI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2luZG93LiRtZXNzYWdlLmVycm9yKCLluLPomZ/lr4bnorzpjK/oqqQiKTsKICAgICAgfQogICAgfQogIH0KfSk7"},{"version":3,"mappings":"AA8GA,SAASA,eAAT,EAA0BC,GAA1B,QAAqC,KAArC;AACA,SAASC,UAAT,QAA2B,UAA3B;;AAEA,IAAMC,KAAI,GAAIC,OAAO,CAAC,OAAD,CAArB;;AAEA,eAAeJ,eAAe,CAAC;AAC7BK,MAAI,EAAE,QADuB;AAE7BC,YAAU,EAAE,EAFiB;AAG7BC,MAH6B,kBAGtB;AACL,WAAO;AACLC,aAAO,EAAE;AADJ,KAAP;AAGD,GAP4B;AAQ7BC,SAR6B,qBAQnB;AACR,QAAMC,OAAM,GAAIC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAhB;AACAC,WAAO,CAACC,GAAR,CAAYJ,OAAM,KAAM,IAAxB;;AAEA,QAAIA,OAAM,IAAK,IAAf,EAAqB;AACnB,WAAKF,OAAL,GAAe,IAAf;AACA,WAAKO,OAAL,GAAeJ,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAf;AACF,KAHA,MAGO;AACL,WAAKJ,OAAL,GAAe,KAAf;AACF;AACD,GAlB4B;AAmB7BQ,OAnB6B,mBAmBrB;AACNC,UAAM,CAACC,QAAP,GAAkBhB,UAAU,EAA5B;AACA,QAAMiB,OAAM,GAAIlB,GAAG,CAAC,IAAD,CAAnB;AACA,WAAO;AACLkB,aAAO,EAAPA,OADK;AAELC,oBAAc,EAAEnB,GAAG,CAAC,KAAD,CAFd;AAGLoB,oBAAc,EAAEpB,GAAG,CAAC;AAClBqB,YAAI,EAAE;AACJP,iBAAO,EAAE,EADL;AAEJQ,kBAAQ,EAAE;AAFN;AADY,OAAD;AAHd,KAAP;AAUD,GAhC4B;AAkC7BC,SAAO,EAAE;AACPC,UADO,oBACE;AACPd,kBAAY,CAACe,UAAb,CAAwB,SAAxB;AACA,WAAKlB,OAAL,GAAe,KAAf;AACAS,YAAM,CAACC,QAAP,CAAgBS,OAAhB,CAAwB,MAAxB;AACD,KALM;AAMPC,SANO,mBAMC;AACNzB,WAAI,CACD0B,IADH,CACQ,kCADR,EAC4C;AACxC,mBAAU,MAD8B;AAExC,oBAAW,MAF6B;AAEtBC,gBAAQ,EAAE;AAFY,OAD5C,EAKGC,IALH,CAKQ,UAAUC,QAAV,EAAoB;AACxBnB,eAAO,CAACC,GAAR,CAAYkB,QAAZ;AACAC,aAAK,CAAC,MAAD,CAAL;AACD,OARH,EASGC,KATH,CASS,UAAUC,KAAV,EAAiB;AACtBtB,eAAO,CAACC,GAAR,CAAYqB,KAAZ;AACAF,aAAK,CAAC,MAAD,CAAL;AACD,OAZH;;AAcA,UACE,KAAKZ,cAAL,CAAoBC,IAApB,CAAyBP,OAAzB,IAAoC,MAApC,IACA,KAAKM,cAAL,CAAoBC,IAApB,CAAyBC,QAAzB,IAAqC,MAFvC,EAGE;AACA,aAAKH,cAAL,GAAsB,KAAtB;AACA,aAAKZ,OAAL,GAAe,IAAf;AACAG,oBAAY,CAACyB,OAAb,CAAqB,SAArB,EAAgC,KAAKf,cAAL,CAAoBC,IAApB,CAAyBP,OAAzD;AACAE,cAAM,CAACC,QAAP,CAAgBS,OAAhB,CAAwB,KAAKN,cAAL,CAAoBC,IAApB,CAAyBP,OAAzB,GAAmC,IAA3D;AACA,aAAKM,cAAL,CAAoBC,IAApB,CAAyBP,OAAzB,GAAmC,EAAnC;AACA,aAAKM,cAAL,CAAoBC,IAApB,CAAyBC,QAAzB,GAAoC,EAApC;AACF,OAVA,MAUO;AACLN,cAAM,CAACC,QAAP,CAAgBiB,KAAhB,CAAsB,QAAtB;AACF;AACD;AAlCM;AAlCoB,CAAD,CAA9B","names":["defineComponent","ref","useMessage","axios","require","name","components","data","islogin","mounted","isLogin","localStorage","getItem","console","log","account","setup","window","$message","formRef","showLoginModal","loginformValue","user","password","methods","logout","removeItem","success","login","post","dataType","then","response","alert","catch","error","setItem"],"sourceRoot":"","sources":["/Users/decat/Desktop/vue3/src/components/header.vue"],"sourcesContent":["\n<template>\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n    <div class=\"container-fluid\">\n      <a class=\"navbar-brand\" href=\"#\">Navbar</a>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarSupportedContent\"\n        aria-controls=\"navbarSupportedContent\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/\">test</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/about\">About</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/test\">test</router-link>\n          </li>\n        </ul>\n\n        <span\n          v-if=\"islogin\"\n          class=\"navbar-text\"\n          style=\"text-decoration: none; margin-right: 10px\"\n        >\n          <router-link\n            v-if=\"islogin\"\n            to=\"/Userinfo\"\n            style=\"text-decoration: none\"\n            >{{ account }}test</router-link\n          >\n        </span>\n\n        <span class=\"navbar-text\" style=\"text-decoration: none\">\n          <a\n            v-if=\"islogin\"\n            to=\"\"\n            style=\"text-decoration: none\"\n            v-on:click=\"logout\"\n            >登出</a\n          >\n        </span>\n\n        <span class=\"navbar-text\" v-if=\"!islogin\" style=\"text-decoration: none\">\n          <a\n            style=\"text-decoration: none\"\n            @click=\"showLoginModal = true\"\n            v-if=\"!islogin\"\n            >登入</a\n          >\n        </span>\n      </div>\n    </div>\n  </nav>\n\n  <n-modal v-model:show=\"showLoginModal\" content=\"Are you sure?\">\n    <n-card\n      style=\"width: 600px\"\n      title=\"使用者登入\"\n      :bordered=\"false\"\n      size=\"huge\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n    >\n      <n-tabs default-value=\"signin\" size=\"large\">\n        <n-tab-pane name=\"signin\" tab=\"Sign in\">\n          <n-form :model=\"loginformValue\">\n            <n-form-item-row label=\"Username\">\n              <n-input v-model:value=\"loginformValue.user.account\" />\n            </n-form-item-row>\n            <n-form-item-row label=\"Password\">\n              <n-input\n                v-model:value=\"loginformValue.user.password\"\n                @keyup.enter=\"login\"\n              />\n            </n-form-item-row>\n          </n-form>\n          <n-button type=\"primary\" block secondary strong v-on:click=\"login\"\n            >登入\n          </n-button>\n        </n-tab-pane>\n        <n-tab-pane name=\"signup\" tab=\"Sign Up\">\n          <n-form>\n            <n-form-item-row label=\"Username\">\n              <n-input />\n            </n-form-item-row>\n            <n-form-item-row label=\"Password\">\n              <n-input />\n            </n-form-item-row>\n            <n-form-item-row label=\"Reenter Password\">\n              <n-input />\n            </n-form-item-row>\n          </n-form>\n          <n-button type=\"primary\" block secondary strong> Sign Up </n-button>\n        </n-tab-pane>\n      </n-tabs>\n    </n-card>\n  </n-modal>\n</template>\n\n<script>\nimport { defineComponent, ref } from \"vue\";\nimport { useMessage } from \"naive-ui\";\n\nconst axios = require('axios');\n\nexport default defineComponent({\n  name: \"header\",\n  components: {},\n  data() {\n    return {\n      islogin: false,\n    };\n  },\n  mounted() {\n    const isLogin = localStorage.getItem(\"account\");\n    console.log(isLogin === null);\n\n    if (isLogin != null) {\n      this.islogin = true;\n      this.account = localStorage.getItem(\"account\");\n    } else {\n      this.islogin = false;\n    }\n  },\n  setup() {\n    window.$message = useMessage();\n    const formRef = ref(null);\n    return {\n      formRef,\n      showLoginModal: ref(false),\n      loginformValue: ref({\n        user: {\n          account: \"\",\n          password: \"\",\n        },\n      }),\n    };\n  },\n\n  methods: {\n    logout() {\n      localStorage.removeItem(\"account\");\n      this.islogin = false;\n      window.$message.success(\"您已登出\");\n    },\n    login() {\n      axios\n        .post(\"http://192.168.50.115/api/signin\", {\n          \"account\":\"abcd\",\n          \"password\":\"1234\",dataType: 'jsonp',\n        })\n        .then(function (response) {\n          console.log(response)\n          alert(\"留言成功\");\n        })\n        .catch(function (error) {\n          console.log(error)\n          alert(\"留言失敗\");\n        });\n\n      if (\n        this.loginformValue.user.account == \"abcd\" &&\n        this.loginformValue.user.password == \"1234\"\n      ) {\n        this.showLoginModal = false;\n        this.islogin = true;\n        localStorage.setItem(\"account\", this.loginformValue.user.account);\n        window.$message.success(this.loginformValue.user.account + \"您好\");\n        this.loginformValue.user.account = \"\";\n        this.loginformValue.user.password = \"\";\n      } else {\n        window.$message.error(\"帳號密碼錯誤\");\n      }\n    },\n  },\n});\n</script>\n"]}]}