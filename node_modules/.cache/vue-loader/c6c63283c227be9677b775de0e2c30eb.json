{"remainingRequest":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Vue3_ecomm/src/views/adm/banner.vue?vue&type=style&index=0&id=c4e6cd6a&lang=css","dependencies":[{"path":"/Users/decat/Vue3_ecomm/src/views/adm/banner.vue","mtime":1645449893618},{"path":"/Users/decat/Vue3_ecomm/node_modules/css-loader/dist/cjs.js","mtime":1644997287420},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1644997290174},{"path":"/Users/decat/Vue3_ecomm/node_modules/postcss-loader/src/index.js","mtime":1644997289386},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1644997287108},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js","mtime":1644997290172}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5idG4tZmlsZSBpbnB1dFt0eXBlPSJmaWxlIl0gewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgcmlnaHQ6IDA7CiAgbWluLXdpZHRoOiAxMDAlOwogIG1pbi1oZWlnaHQ6IDEwMCU7CiAgZm9udC1zaXplOiAxMDBweDsKICB0ZXh0LWFsaWduOiByaWdodDsKICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MCk7CiAgb3BhY2l0eTogMDsKICBvdXRsaW5lOiBub25lOwogIGJhY2tncm91bmQ6IHdoaXRlOwogIGN1cnNvcjogaW5oZXJpdDsKICBkaXNwbGF5OiBibG9jazsKfQo="},{"version":3,"sources":["/Users/decat/Vue3_ecomm/src/views/adm/banner.vue"],"names":[],"mappings":";AAyCA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,EAAE,CAAC;EACN,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;EACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAChB","file":"/Users/decat/Vue3_ecomm/src/views/adm/banner.vue","sourceRoot":"","sourcesContent":["<template>\n  商品頁banner管理\n\n  <input\n    type=\"file\"\n    accept=\"image/*\"\n    multiple\n    @change=\"previewMultiImage\"\n    class=\"form-control-file\"\n    id=\"my-file\"\n    ref=\"fileInput\"\n    style=\"display: none\"\n  />\n  <n-button type=\"primary\" onclick=\"document.getElementById('my-file').click();\"\n    >瀏覽檔案\n  </n-button>\n\n  <div class=\"container testimonial-group\" style=\"margin-top: 10px\">\n    <div class=\"row text-center\">\n      <div\n        class=\"col-4\"\n        style=\"margin-bottom: 30px\"\n        v-for=\"(item, index) in preview_list\"\n        :key=\"index\"\n      >\n        <img\n          :src=\"item\"\n          class=\"img-fluid\"\n          v-on:click=\"clicking($event)\"\n          style=\"max-width: 100px\"\n        />\n        <br />\n        <n-button type=\"error\" v-on:click=\"deleteimg(index)\"> 刪除 </n-button>\n      </div>\n    </div>\n    <n-button type=\"primary\" @click=\"newproduct()\" block secondary strong\n      >確認修改\n    </n-button>\n  </div>\n</template>\n<style>\n.btn-file input[type=\"file\"] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  min-width: 100%;\n  min-height: 100%;\n  font-size: 100px;\n  text-align: right;\n  filter: alpha(opacity=0);\n  opacity: 0;\n  outline: none;\n  background: white;\n  cursor: inherit;\n  display: block;\n}\n</style>\n<script>\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  components: {},\n\n  setup() {\n    return {};\n  },\n  data() {\n    return {\n      productlist: [],\n      preview: \"\",\n      image_list: [],\n      preview_list: [],\n      bannerimg: [],\n    };\n  },\n  mounted() {\n    fetch(\"http://127.0.0.1/api/getproductlist\", {\n      method: \"get\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((data) => {\n        return data.json();\n      })\n      .then((ret) => {\n        console.log(ret.bannerimg);\n        this.preview_list = ret.bannerimg;\n        this.image_list = ret.bannerimg;\n      });\n  },\n  methods: {\n    deleteimg(index) {\n      this.preview_list.splice(index, 1);\n      this.image_list.splice(index, 1);\n    },\n    previewMultiImage: function (event) {\n      //this.imagesArray = event.target.files;\n\n      var input = event.target;\n      var count = input.files.length;\n      var index = 0;\n\n      if (input.files) {\n        while (count--) {\n          var reader = new FileReader();\n          reader.onload = (e) => {\n            this.preview_list.push(e.target.result);\n          };\n          this.image_list.push(input.files[index]);\n          reader.readAsDataURL(input.files[index]);\n          index++;\n        }\n      }\n    },\n    newproduct() {\n      var formData = new FormData();\n      var URL = \"http://localhost/shop/banner/carousel1.jpeg\";\n      \n      formData.append('pic[]', URL);\n\n      var xhttp = new XMLHttpRequest();\n      xhttp.open(\"POST\", \"http://localhost/api/upload_file\", true);\n      xhttp.withCredentials = false;\n      xhttp.send(formData);\n    },\n  },\n});\n</script>"]}]}