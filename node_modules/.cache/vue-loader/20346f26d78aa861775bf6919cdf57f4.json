{"remainingRequest":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/decat/Vue3_ecomm/src/views/Test.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/decat/Vue3_ecomm/src/views/Test.vue","mtime":1645280698216},{"path":"/Users/decat/Vue3_ecomm/node_modules/cache-loader/dist/cjs.js","mtime":1644997287108},{"path":"/Users/decat/Vue3_ecomm/node_modules/vue-loader-v16/dist/index.js","mtime":1644997290172}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBpbXBvcnQgeyBjb21wdXRlZCxkZWZpbmVDb21wb25lbnQsUHJvcFR5cGUscmVhY3RpdmUscmVmIH0gZnJvbSAndnVlJwogICAgaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwogICAgdHlwZSBVcGxvYWRTdGF0dXMgPSAncmVhZHknIHwgJ2xvYWRpbmcnIHwgJ3N1Y2Nlc3MnIHwgJ2Vycm9yJwogICAgZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICAgICAgICBwcm9wczogewogICAgICAgICAgICBhY3Rpb246IHsgLy8gdXJs5Zyw5Z2ACiAgICAgICAgICAgICAgICB0eXBlOiBTdHJpbmcscmVxdWlyZWQ6IHRydWUKICAgICAgICAgICAgfQogICAgICAgIH0sc2V0dXAocHJvcHMpIHsKICAgICAgICAgICAgLy8gaW5wdXTkvovpoIXnianku7bvvIzpgJrpgY7oiIdyZWY9ImZpbGVJbnB1dCLnmoTpl5zoga/njbLlj5bliLBpbnB1dOS+i+mgheeJqeS7tgogICAgICAgICAgICBjb25zdCBmaWxlSW5wdXQgPSByZWY8bnVsbCB8IEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpCiAgICAgICAgICAgIGNvbnN0IGZpbGVTdGF0dXMgPSByZWY8VXBsb2FkU3RhdHVzPigncmVhZHknKQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gMS5kaXbpu57pgbjkuovku7YKICAgICAgICAgICAgY29uc3QgdHJpZ2dlclVwbG9hZCA9ICgpID0+IHsKICAgICAgICAgICAgICAgIGlmKGZpbGVJbnB1dC52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIGZpbGVJbnB1dC52YWx1ZS5jbGljaygpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g6YCa6YGOZGl25L6G6Ke455m8aW5wdXTnmoRjaGFuZ2Xkuovku7YKICAgICAgICAgICAgY29uc3QgaGFuZGxlRmlsZUNoYW5nZSA9IChlOiBFdmVudCkgPT4gewogICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQKICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IHRhcmdldC5maWxlcwogICAgICAgICAgICAgIGlmKGZpbGVzKSB7CiAgICAgICAgICAgICAgICBjb25zdCB1cGxvYWRlZEZpbGUgPSBmaWxlc1swXQogICAgICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKQogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJyx1cGxvYWRlZEZpbGUpCiAgICAgICAgICAgICAgICByZWFkeUZpbGUuc3RhdHVzID0gJ2xvYWRpbmcnIC8vIOS4iuWCs+S5i+WJjeWwh+eLgOaFi+ioreWumueCumxvYWRpbmcKICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QocHJvcHMuYWN0aW9ucyx7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzcD0+IHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3AnLHJlc3ApCiAgICAgICAgICAgICAgICAgIHJlYWR5RmlsZS5zdGF0dXMgPSAnc3VjY2VzcycgLy8g5LiK5YKz5oiQ5Yqf5bCH54uA5oWL6Kit5a6a54K6c3VjY2VzcwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3I9PiB7CiAgICAgICAgICAgICAgICByZWFkeUZpbGUuc3RhdHVzID0gJ2Vycm9yJyAvLyAvLyDkuIrlgrPlpLHmlZflsIfni4DmhYvoqK3lrprngrplcnJvcgogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGZpbGVJbnB1dCx0cmlnZ2VyVXBsb2FkLGhhbmRsZUZpbGVDaGFuZ2UsZmlsZVN0YXR1cwogICAgICAgICAgICB9CgogICAgICAgIH0KICAgIH0pCg=="},{"version":3,"sources":["/Users/decat/Vue3_ecomm/src/views/Test.vue"],"names":[],"mappings":"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","file":"/Users/decat/Vue3_ecomm/src/views/Test.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"file-upload\">\n    <div class=\"upload-area\" @click=\"triggerUpload\"></div>\n    <span v-if=\"fileStatus==='loading'\">正在上傳</span>\n    <span v-else-if=\"fileStatus==='success'\">上傳成功</span>\n    <span v-else-if=\"fileStatus==='error'\">上傳失敗</span>\n    <span v-else>點選上傳</span>\n    <input ref=\"fileInput\" type=\"file\" name=\"file\" style=\"display: none\" />\n  </div>\n</template>\n<script lang=\"ts\">\n    import { computed,defineComponent,PropType,reactive,ref } from 'vue'\n    import axios from 'axios'\n    type UploadStatus = 'ready' | 'loading' | 'success' | 'error'\n    export default defineComponent({\n        props: {\n            action: { // url地址\n                type: String,required: true\n            }\n        },setup(props) {\n            // input例項物件，通過與ref=\"fileInput\"的關聯獲取到input例項物件\n            const fileInput = ref<null | HTMLInputElement>(null)\n            const fileStatus = ref<UploadStatus>('ready')\n            \n            // 1.div點選事件\n            const triggerUpload = () => {\n                if(fileInput.value) {\n                    fileInput.value.click()\n                }\n            }\n            // 通過div來觸發input的change事件\n            const handleFileChange = (e: Event) => {\n              const target = e.target as HTMLInputElement\n              const files = target.files\n              if(files) {\n                const uploadedFile = files[0]\n                const formData = new FormData()\n                formData.append('file',uploadedFile)\n                readyFile.status = 'loading' // 上傳之前將狀態設定為loading\n                axios.post(props.actions,{\n                  headers: {\n                    \"Content-Type\": 'multipart/form-data'\n                  }\n                }).then(resp=> {\n                  console.log('resp',resp)\n                  readyFile.status = 'success' // 上傳成功將狀態設定為success\n                }).catch(error=> {\n                readyFile.status = 'error' // // 上傳失敗將狀態設定為error\n                })\n              }\n            }\n            return {\n                fileInput,triggerUpload,handleFileChange,fileStatus\n            }\n\n        }\n    })\n</script>\n"]}]}